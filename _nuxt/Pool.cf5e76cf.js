var qt=Object.defineProperty;var Zt=(ot,W,D)=>W in ot?qt(ot,W,{enumerable:!0,configurable:!0,writable:!0,value:D}):ot[W]=D;var Et=(ot,W,D)=>(Zt(ot,typeof W!="symbol"?W+"":W,D),D);import{aK as It,aL as Kt,aM as Ht,aN as Ct,aB as Wt,aH as $t,aI as zt,e as Jt,a3 as Yt}from"./entry.93641817.js";import{B as Lt,T as Gt}from"./taquito.es6.9f0f758a.js";const Xt=async ot=>{try{return await Kt.get(`${Ht}v1/tokens${ot||""}`)}catch(W){throw W}},Qt=async(ot,W)=>{try{const H=(await Xt(`/balances?account=${W}&token.contract.in=${ot.map(x=>x.address).toString()}&token.tokenId.in=${ot.map(x=>x.token_id).toString()}`)).data;return H.length<=0?{success:!1,balances:[0]}:{success:!0,balances:H.map(x=>{const F=ot.find(J=>J.address==x.token.contract.address&&J.token_id===Number(x.token.tokenId)).id;if(F)return{id:F,userBalance:x.balance}})}}catch(D){return console.log(D),{success:!1,balances:[new Lt(0)],error:D.message}}},tn=async(ot,W)=>{try{return{success:!0,balance:await(await new Gt(It()).contract.at(ot)).contractViews.getBalance(W).executeView({viewCaller:W})}}catch(D){return console.log(`Error: ${JSON.stringify(D,null,2)}`),{success:!1,balance:Lt(0)}}},nn=async ot=>{try{return{success:!0,shares:await(await new Gt(It()).contract.at(ot)).contractViews.getTotalSupply().executeView({viewCaller:"KT1N5qYdthynXLfGbteRVHgKy4m6q2NGjt57"})}}catch(W){return console.log(`Error: ${JSON.stringify(W,null,2)}`),{success:!1,shares:Lt(0)}}},sn=(ot,W,D)=>{const H=ot.multipliedBy(1e18).dividedBy(W);return D.map(x=>({amount:x.balance.multipliedBy(H).dividedBy(10**18),index:x.index}))};var Vt={exports:{}};(function(ot,W){(function(D){ot.exports=D()})(function(){return function D(H,at,x){function F(C,v){if(!at[C]){if(!H[C]){var w=typeof Ct=="function"&&Ct;if(!v&&w)return w(C,!0);if(J)return J(C,!0);var V=new Error("Cannot find module '"+C+"'");throw V.code="MODULE_NOT_FOUND",V}var P=at[C]={exports:{}};H[C][0].call(P.exports,function(l){return F(H[C][1][l]||l)},P,P.exports,D,H,at,x)}return at[C].exports}for(var J=typeof Ct=="function"&&Ct,b=0;b<x.length;b++)F(x[b]);return F}({1:[function(D,H,at){(function(x){var F,J=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",C=Math.ceil,v=Math.floor,w="[BigNumber Error] ",V=w+"Number primitive has more than 15 significant digits: ",P=1e14,l=14,g=9007199254740991,U=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],z=1e7,$=1e9;function k(h){var N=0|h;return 0<h||h===N?N:N-1}function L(h){for(var N,p,_=1,S=h.length,E=h[0]+"";_<S;){for(N=h[_++]+"",p=l-N.length;p--;N="0"+N);E+=N}for(S=E.length;E.charCodeAt(--S)===48;);return E.slice(0,S+1||1)}function T(h,N){var p,_,S=h.c,E=N.c,M=h.s,R=N.s,Z=h.e,K=N.e;if(!M||!R)return null;if(p=S&&!S[0],_=E&&!E[0],p||_)return p?_?0:-R:M;if(M!=R)return M;if(p=M<0,_=Z==K,!S||!E)return _?0:!S^p?1:-1;if(!_)return K<Z^p?1:-1;for(R=(Z=S.length)<(K=E.length)?Z:K,M=0;M<R;M++)if(S[M]!=E[M])return S[M]>E[M]^p?1:-1;return Z==K?0:K<Z^p?1:-1}function O(h,N,p,_){if(h<N||p<h||h!==v(h))throw Error(w+(_||"Argument")+(typeof h=="number"?h<N||p<h?" out of range: ":" not an integer: ":" not a primitive number: ")+String(h))}function j(h){var N=h.c.length-1;return k(h.e/l)==N&&h.c[N]%2!=0}function B(h,N){return(1<h.length?h.charAt(0)+"."+h.slice(1):h)+(N<0?"e":"e+")+N}function A(h,N,p){var _,S;if(N<0){for(S=p+".";++N;S+=p);h=S+h}else if(++N>(_=h.length)){for(S=p,N-=_;--N;S+=p);h+=S}else N<_&&(h=h.slice(0,N)+"."+h.slice(N));return h}(F=function h(N){var p,_,S,E,M,R,Z,K,tt,Y,X,y=m.prototype={constructor:m,toString:null,valueOf:null},nt=new m(1),rt=20,Q=4,ft=-7,st=21,ct=-1e7,ut=1e7,bt=!1,Bt=1,St=0,At={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},Ot="0123456789abcdefghijklmnopqrstuvwxyz";function m(t,n){var e,c,r,i,a,o,f,s,u=this;if(!(u instanceof m))return new m(t,n);if(n==null){if(t&&t._isBigNumber===!0)return u.s=t.s,void(!t.c||t.e>ut?u.c=u.e=null:t.e<ct?u.c=[u.e=0]:(u.e=t.e,u.c=t.c.slice()));if((o=typeof t=="number")&&0*t==0){if(u.s=1/t<0?(t=-t,-1):1,t===~~t){for(i=0,a=t;10<=a;a/=10,i++);return void(ut<i?u.c=u.e=null:(u.e=i,u.c=[t]))}s=String(t)}else{if(!J.test(s=String(t)))return S(u,s,o);u.s=s.charCodeAt(0)==45?(s=s.slice(1),-1):1}-1<(i=s.indexOf("."))&&(s=s.replace(".","")),0<(a=s.search(/e/i))?(i<0&&(i=a),i+=+s.slice(a+1),s=s.substring(0,a)):i<0&&(i=s.length)}else{if(O(n,2,Ot.length,"Base"),n==10)return gt(u=new m(t),rt+u.e+1,Q);if(s=String(t),o=typeof t=="number"){if(0*t!=0)return S(u,s,o,n);if(u.s=1/t<0?(s=s.slice(1),-1):1,m.DEBUG&&15<s.replace(/^0\.0*|\./,"").length)throw Error(V+t)}else u.s=s.charCodeAt(0)===45?(s=s.slice(1),-1):1;for(e=Ot.slice(0,n),i=a=0,f=s.length;a<f;a++)if(e.indexOf(c=s.charAt(a))<0){if(c=="."){if(i<a){i=f;continue}}else if(!r&&(s==s.toUpperCase()&&(s=s.toLowerCase())||s==s.toLowerCase()&&(s=s.toUpperCase()))){r=!0,a=-1,i=0;continue}return S(u,String(t),o,n)}o=!1,-1<(i=(s=_(s,n,10,u.s)).indexOf("."))?s=s.replace(".",""):i=s.length}for(a=0;s.charCodeAt(a)===48;a++);for(f=s.length;s.charCodeAt(--f)===48;);if(s=s.slice(a,++f)){if(f-=a,o&&m.DEBUG&&15<f&&(g<t||t!==v(t)))throw Error(V+u.s*t);if((i=i-a-1)>ut)u.c=u.e=null;else if(i<ct)u.c=[u.e=0];else{if(u.e=i,u.c=[],a=(i+1)%l,i<0&&(a+=l),a<f){for(a&&u.c.push(+s.slice(0,a)),f-=l;a<f;)u.c.push(+s.slice(a,a+=l));a=l-(s=s.slice(a)).length}else a-=f;for(;a--;s+="0");u.c.push(+s)}}else u.c=[u.e=0]}function Tt(t,n,e,c){for(var r,i,a=[0],o=0,f=t.length;o<f;){for(i=a.length;i--;a[i]*=n);for(a[0]+=c.indexOf(t.charAt(o++)),r=0;r<a.length;r++)a[r]>e-1&&(a[r+1]==null&&(a[r+1]=0),a[r+1]+=a[r]/e|0,a[r]%=e)}return a.reverse()}function _t(t,n,e){var c,r,i,a,o=0,f=t.length,s=n%z,u=n/z|0;for(t=t.slice();f--;)o=((r=s*(i=t[f]%z)+(c=u*i+(a=t[f]/z|0)*s)%z*z+o)/e|0)+(c/z|0)+u*a,t[f]=r%e;return o&&(t=[o].concat(t)),t}function Mt(t,n,e,c){var r,i;if(e!=c)i=c<e?1:-1;else for(r=i=0;r<e;r++)if(t[r]!=n[r]){i=t[r]>n[r]?1:-1;break}return i}function Nt(t,n,e,c){for(var r=0;e--;)t[e]-=r,r=t[e]<n[e]?1:0,t[e]=r*c+t[e]-n[e];for(;!t[0]&&1<t.length;t.splice(0,1));}function kt(t,n,e,c){var r,i,a,o,f;if(e==null?e=Q:O(e,0,8),!t.c)return t.toString();if(r=t.c[0],a=t.e,n==null)f=L(t.c),f=c==1||c==2&&(a<=ft||st<=a)?B(f,a):A(f,a,"0");else if(i=(t=gt(new m(t),n,e)).e,o=(f=L(t.c)).length,c==1||c==2&&(n<=i||i<=ft)){for(;o<n;f+="0",o++);f=B(f,i)}else if(n-=a,f=A(f,i,"0"),o<i+1){if(0<--n)for(f+=".";n--;f+="0");}else if(0<(n+=i-o))for(i+1==o&&(f+=".");n--;f+="0");return t.s<0&&r?"-"+f:f}function Dt(t,n){for(var e,c=1,r=new m(t[0]);c<t.length;c++){if(!(e=new m(t[c])).s){r=e;break}n.call(r,e)&&(r=e)}return r}function wt(t,n,e){for(var c=1,r=n.length;!n[--r];n.pop());for(r=n[0];10<=r;r/=10,c++);return(e=c+e*l-1)>ut?t.c=t.e=null:e<ct?t.c=[t.e=0]:(t.e=e,t.c=n),t}function gt(t,n,e,c){var r,i,a,o,f,s,u,d=t.c,q=U;if(d){t:{for(r=1,o=d[0];10<=o;o/=10,r++);if((i=n-r)<0)i+=l,a=n,u=(f=d[s=0])/q[r-a-1]%10|0;else if((s=C((i+1)/l))>=d.length){if(!c)break t;for(;d.length<=s;d.push(0));f=u=0,a=(i%=l)-l+(r=1)}else{for(f=o=d[s],r=1;10<=o;o/=10,r++);u=(a=(i%=l)-l+r)<0?0:f/q[r-a-1]%10|0}if(c=c||n<0||d[s+1]!=null||(a<0?f:f%q[r-a-1]),c=e<4?(u||c)&&(e==0||e==(t.s<0?3:2)):5<u||u==5&&(e==4||c||e==6&&(0<i?0<a?f/q[r-a]:0:d[s-1])%10&1||e==(t.s<0?8:7)),n<1||!d[0])return d.length=0,c?(n-=t.e+1,d[0]=q[(l-n%l)%l],t.e=-n||0):d[0]=t.e=0,t;if(i==0?(d.length=s,o=1,s--):(d.length=s+1,o=q[l-i],d[s]=0<a?v(f/q[r-a]%q[a])*o:0),c)for(;;){if(s==0){for(i=1,a=d[0];10<=a;a/=10,i++);for(a=d[0]+=o,o=1;10<=a;a/=10,o++);i!=o&&(t.e++,d[0]==P&&(d[0]=1));break}if(d[s]+=o,d[s]!=P)break;d[s--]=0,o=1}for(i=d.length;d[--i]===0;d.pop());}t.e>ut?t.c=t.e=null:t.e<ct&&(t.c=[t.e=0])}return t}function vt(t){var n,e=t.e;return e===null?t.toString():(n=L(t.c),n=e<=ft||st<=e?B(n,e):A(n,e,"0"),t.s<0?"-"+n:n)}return m.clone=h,m.ROUND_UP=0,m.ROUND_DOWN=1,m.ROUND_CEIL=2,m.ROUND_FLOOR=3,m.ROUND_HALF_UP=4,m.ROUND_HALF_DOWN=5,m.ROUND_HALF_EVEN=6,m.ROUND_HALF_CEIL=7,m.ROUND_HALF_FLOOR=8,m.EUCLID=9,m.config=m.set=function(t){var n,e;if(t!=null){if(typeof t!="object")throw Error(w+"Object expected: "+t);if(t.hasOwnProperty(n="DECIMAL_PLACES")&&(O(e=t[n],0,$,n),rt=e),t.hasOwnProperty(n="ROUNDING_MODE")&&(O(e=t[n],0,8,n),Q=e),t.hasOwnProperty(n="EXPONENTIAL_AT")&&((e=t[n])&&e.pop?(O(e[0],-$,0,n),O(e[1],0,$,n),ft=e[0],st=e[1]):(O(e,-$,$,n),ft=-(st=e<0?-e:e))),t.hasOwnProperty(n="RANGE"))if((e=t[n])&&e.pop)O(e[0],-$,-1,n),O(e[1],1,$,n),ct=e[0],ut=e[1];else{if(O(e,-$,$,n),!e)throw Error(w+n+" cannot be zero: "+e);ct=-(ut=e<0?-e:e)}if(t.hasOwnProperty(n="CRYPTO")){if((e=t[n])!==!!e)throw Error(w+n+" not true or false: "+e);if(e){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw bt=!e,Error(w+"crypto unavailable");bt=e}else bt=e}if(t.hasOwnProperty(n="MODULO_MODE")&&(O(e=t[n],0,9,n),Bt=e),t.hasOwnProperty(n="POW_PRECISION")&&(O(e=t[n],0,$,n),St=e),t.hasOwnProperty(n="FORMAT")){if(typeof(e=t[n])!="object")throw Error(w+n+" not an object: "+e);At=e}if(t.hasOwnProperty(n="ALPHABET")){if(typeof(e=t[n])!="string"||/^.$|[+-.\s]|(.).*\1/.test(e))throw Error(w+n+" invalid: "+e);Ot=e}}return{DECIMAL_PLACES:rt,ROUNDING_MODE:Q,EXPONENTIAL_AT:[ft,st],RANGE:[ct,ut],CRYPTO:bt,MODULO_MODE:Bt,POW_PRECISION:St,FORMAT:At,ALPHABET:Ot}},m.isBigNumber=function(t){if(!t||t._isBigNumber!==!0)return!1;if(!m.DEBUG)return!0;var n,e,c=t.c,r=t.e,i=t.s;t:if({}.toString.call(c)=="[object Array]"){if((i===1||i===-1)&&-$<=r&&r<=$&&r===v(r)){if(c[0]===0){if(r===0&&c.length===1)return!0;break t}if((n=(r+1)%l)<1&&(n+=l),String(c[0]).length==n){for(n=0;n<c.length;n++)if((e=c[n])<0||P<=e||e!==v(e))break t;if(e!==0)return!0}}}else if(c===null&&r===null&&(i===null||i===1||i===-1))return!0;throw Error(w+"Invalid BigNumber: "+t)},m.maximum=m.max=function(){return Dt(arguments,y.lt)},m.minimum=m.min=function(){return Dt(arguments,y.gt)},m.random=(E=9007199254740992,M=Math.random()*E&2097151?function(){return v(Math.random()*E)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var n,e,c,r,i,a=0,o=[],f=new m(nt);if(t==null?t=rt:O(t,0,$),r=C(t/l),bt)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(r*=2));a<r;)9e15<=(i=131072*n[a]+(n[a+1]>>>11))?(e=crypto.getRandomValues(new Uint32Array(2)),n[a]=e[0],n[a+1]=e[1]):(o.push(i%1e14),a+=2);a=r/2}else{if(!crypto.randomBytes)throw bt=!1,Error(w+"crypto unavailable");for(n=crypto.randomBytes(r*=7);a<r;)9e15<=(i=281474976710656*(31&n[a])+1099511627776*n[a+1]+4294967296*n[a+2]+16777216*n[a+3]+(n[a+4]<<16)+(n[a+5]<<8)+n[a+6])?crypto.randomBytes(7).copy(n,a):(o.push(i%1e14),a+=7);a=r/7}if(!bt)for(;a<r;)(i=M())<9e15&&(o[a++]=i%1e14);for(r=o[--a],t%=l,r&&t&&(i=U[l-t],o[a]=v(r/i)*i);o[a]===0;o.pop(),a--);if(a<0)o=[c=0];else{for(c=-1;o[0]===0;o.splice(0,1),c-=l);for(a=1,i=o[0];10<=i;i/=10,a++);a<l&&(c-=l-a)}return f.e=c,f.c=o,f}),m.sum=function(){for(var t=1,n=arguments,e=new m(n[0]);t<n.length;)e=e.plus(n[t++]);return e},R="0123456789",_=function(t,n,e,c,r){var i,a,o,f,s,u,d,q,G=t.indexOf("."),I=rt,et=Q;for(0<=G&&(f=St,St=0,t=t.replace(".",""),u=(q=new m(n)).pow(t.length-G),St=f,q.c=Tt(A(L(u.c),u.e,"0"),10,e,R),q.e=q.c.length),o=f=(d=Tt(t,n,e,r?(i=Ot,R):(i=R,Ot))).length;d[--f]==0;d.pop());if(!d[0])return i.charAt(0);if(G<0?--o:(u.c=d,u.e=o,u.s=c,d=(u=p(u,q,I,et,e)).c,s=u.r,o=u.e),G=d[a=o+I+1],f=e/2,s=s||a<0||d[a+1]!=null,s=et<4?(G!=null||s)&&(et==0||et==(u.s<0?3:2)):f<G||G==f&&(et==4||s||et==6&&1&d[a-1]||et==(u.s<0?8:7)),a<1||!d[0])t=s?A(i.charAt(1),-I,i.charAt(0)):i.charAt(0);else{if(d.length=a,s)for(--e;++d[--a]>e;)d[a]=0,a||(++o,d=[1].concat(d));for(f=d.length;!d[--f];);for(G=0,t="";G<=f;t+=i.charAt(d[G++]));t=A(t,o,i.charAt(0))}return t},p=function(t,n,e,c,r){var i,a,o,f,s,u,d,q,G,I,et,pt,ht,lt,dt,xt,Ft,yt=t.s==n.s?1:-1,mt=t.c,it=n.c;if(!(mt&&mt[0]&&it&&it[0]))return new m(t.s&&n.s&&(mt?!it||mt[0]!=it[0]:it)?mt&&mt[0]==0||!it?0*yt:yt/0:NaN);for(G=(q=new m(yt)).c=[],yt=e+(a=t.e-n.e)+1,r||(r=P,a=k(t.e/l)-k(n.e/l),yt=yt/l|0),o=0;it[o]==(mt[o]||0);o++);if(it[o]>(mt[o]||0)&&a--,yt<0)G.push(1),f=!0;else{for(lt=mt.length,xt=it.length,yt+=2,1<(s=v(r/(it[o=0]+1)))&&(it=_t(it,s,r),mt=_t(mt,s,r),xt=it.length,lt=mt.length),ht=xt,et=(I=mt.slice(0,xt)).length;et<xt;I[et++]=0);Ft=it.slice(),Ft=[0].concat(Ft),dt=it[0],it[1]>=r/2&&dt++;do{if(s=0,(i=Mt(it,I,xt,et))<0){if(pt=I[0],xt!=et&&(pt=pt*r+(I[1]||0)),1<(s=v(pt/dt)))for(r<=s&&(s=r-1),d=(u=_t(it,s,r)).length,et=I.length;Mt(u,I,d,et)==1;)s--,Nt(u,xt<d?Ft:it,d,r),d=u.length,i=1;else s==0&&(i=s=1),d=(u=it.slice()).length;if(d<et&&(u=[0].concat(u)),Nt(I,u,et,r),et=I.length,i==-1)for(;Mt(it,I,xt,et)<1;)s++,Nt(I,xt<et?Ft:it,et,r),et=I.length}else i===0&&(s++,I=[0]);G[o++]=s,I[0]?I[et++]=mt[ht]||0:(I=[mt[ht]],et=1)}while((ht++<lt||I[0]!=null)&&yt--);f=I[0]!=null,G[0]||G.splice(0,1)}if(r==P){for(o=1,yt=G[0];10<=yt;yt/=10,o++);gt(q,e+(q.e=o+a*l-1)+1,c,f)}else q.e=a,q.r=+f;return q},Z=/^(-?)0([xbo])(?=\w[\w.]*$)/i,K=/^([^.]+)\.$/,tt=/^\.([^.]+)$/,Y=/^-?(Infinity|NaN)$/,X=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(t,n,e,c){var r,i=e?n:n.replace(X,"");if(Y.test(i))t.s=isNaN(i)?null:i<0?-1:1;else{if(!e&&(i=i.replace(Z,function(a,o,f){return r=(f=f.toLowerCase())=="x"?16:f=="b"?2:8,c&&c!=r?a:o}),c&&(r=c,i=i.replace(K,"$1").replace(tt,"0.$1")),n!=i))return new m(i,r);if(m.DEBUG)throw Error(w+"Not a"+(c?" base "+c:"")+" number: "+n);t.s=null}t.c=t.e=null},y.absoluteValue=y.abs=function(){var t=new m(this);return t.s<0&&(t.s=1),t},y.comparedTo=function(t,n){return T(this,new m(t,n))},y.decimalPlaces=y.dp=function(t,n){var e,c,r;if(t!=null)return O(t,0,$),n==null?n=Q:O(n,0,8),gt(new m(this),t+this.e+1,n);if(!(e=this.c))return null;if(c=((r=e.length-1)-k(this.e/l))*l,r=e[r])for(;r%10==0;r/=10,c--);return c<0&&(c=0),c},y.dividedBy=y.div=function(t,n){return p(this,new m(t,n),rt,Q)},y.dividedToIntegerBy=y.idiv=function(t,n){return p(this,new m(t,n),0,1)},y.exponentiatedBy=y.pow=function(t,n){var e,c,r,i,a,o,f,s,u=this;if((t=new m(t)).c&&!t.isInteger())throw Error(w+"Exponent not an integer: "+vt(t));if(n!=null&&(n=new m(n)),a=14<t.e,!u.c||!u.c[0]||u.c[0]==1&&!u.e&&u.c.length==1||!t.c||!t.c[0])return s=new m(Math.pow(+vt(u),a?2-j(t):+vt(t))),n?s.mod(n):s;if(o=t.s<0,n){if(n.c?!n.c[0]:!n.s)return new m(NaN);(c=!o&&u.isInteger()&&n.isInteger())&&(u=u.mod(n))}else{if(9<t.e&&(0<u.e||u.e<-1||(u.e==0?1<u.c[0]||a&&24e7<=u.c[1]:u.c[0]<8e13||a&&u.c[0]<=9999975e7)))return i=u.s<0&&j(t)?-0:0,-1<u.e&&(i=1/i),new m(o?1/i:i);St&&(i=C(St/l+2))}for(f=a?(e=new m(.5),o&&(t.s=1),j(t)):(r=Math.abs(+vt(t)))%2,s=new m(nt);;){if(f){if(!(s=s.times(u)).c)break;i?s.c.length>i&&(s.c.length=i):c&&(s=s.mod(n))}if(r){if((r=v(r/2))===0)break;f=r%2}else if(gt(t=t.times(e),t.e+1,1),14<t.e)f=j(t);else{if((r=+vt(t))==0)break;f=r%2}u=u.times(u),i?u.c&&u.c.length>i&&(u.c.length=i):c&&(u=u.mod(n))}return c?s:(o&&(s=nt.div(s)),n?s.mod(n):i?gt(s,St,Q,void 0):s)},y.integerValue=function(t){var n=new m(this);return t==null?t=Q:O(t,0,8),gt(n,n.e+1,t)},y.isEqualTo=y.eq=function(t,n){return T(this,new m(t,n))===0},y.isFinite=function(){return!!this.c},y.isGreaterThan=y.gt=function(t,n){return 0<T(this,new m(t,n))},y.isGreaterThanOrEqualTo=y.gte=function(t,n){return(n=T(this,new m(t,n)))===1||n===0},y.isInteger=function(){return!!this.c&&k(this.e/l)>this.c.length-2},y.isLessThan=y.lt=function(t,n){return T(this,new m(t,n))<0},y.isLessThanOrEqualTo=y.lte=function(t,n){return(n=T(this,new m(t,n)))===-1||n===0},y.isNaN=function(){return!this.s},y.isNegative=function(){return this.s<0},y.isPositive=function(){return 0<this.s},y.isZero=function(){return!!this.c&&this.c[0]==0},y.minus=function(t,n){var e,c,r,i,a=this,o=a.s;if(n=(t=new m(t,n)).s,!o||!n)return new m(NaN);if(o!=n)return t.s=-n,a.plus(t);var f=a.e/l,s=t.e/l,u=a.c,d=t.c;if(!f||!s){if(!u||!d)return u?(t.s=-n,t):new m(d?a:NaN);if(!u[0]||!d[0])return d[0]?(t.s=-n,t):new m(u[0]?a:Q==3?-0:0)}if(f=k(f),s=k(s),u=u.slice(),o=f-s){for((r=(i=o<0)?(o=-o,u):(s=f,d)).reverse(),n=o;n--;r.push(0));r.reverse()}else for(c=(i=(o=u.length)<(n=d.length))?o:n,o=n=0;n<c;n++)if(u[n]!=d[n]){i=u[n]<d[n];break}if(i&&(r=u,u=d,d=r,t.s=-t.s),0<(n=(c=d.length)-(e=u.length)))for(;n--;u[e++]=0);for(n=P-1;o<c;){if(u[--c]<d[c]){for(e=c;e&&!u[--e];u[e]=n);--u[e],u[c]+=P}u[c]-=d[c]}for(;u[0]==0;u.splice(0,1),--s);return u[0]?wt(t,u,s):(t.s=Q==3?-1:1,t.c=[t.e=0],t)},y.modulo=y.mod=function(t,n){var e,c,r=this;return t=new m(t,n),!r.c||!t.s||t.c&&!t.c[0]?new m(NaN):!t.c||r.c&&!r.c[0]?new m(r):(Bt==9?(c=t.s,t.s=1,e=p(r,t,0,3),t.s=c,e.s*=c):e=p(r,t,0,Bt),(t=r.minus(e.times(t))).c[0]||Bt!=1||(t.s=r.s),t)},y.multipliedBy=y.times=function(t,n){var e,c,r,i,a,o,f,s,u,d,q,G,I,et,pt,ht=this,lt=ht.c,dt=(t=new m(t,n)).c;if(!(lt&&dt&&lt[0]&&dt[0]))return!ht.s||!t.s||lt&&!lt[0]&&!dt||dt&&!dt[0]&&!lt?t.c=t.e=t.s=null:(t.s*=ht.s,lt&&dt?(t.c=[0],t.e=0):t.c=t.e=null),t;for(c=k(ht.e/l)+k(t.e/l),t.s*=ht.s,(f=lt.length)<(d=dt.length)&&(I=lt,lt=dt,dt=I,r=f,f=d,d=r),r=f+d,I=[];r--;I.push(0));for(et=P,pt=z,r=d;0<=--r;){for(e=0,q=dt[r]%pt,G=dt[r]/pt|0,i=r+(a=f);r<i;)e=((s=q*(s=lt[--a]%pt)+(o=G*s+(u=lt[a]/pt|0)*q)%pt*pt+I[i]+e)/et|0)+(o/pt|0)+G*u,I[i--]=s%et;I[i]=e}return e?++c:I.splice(0,1),wt(t,I,c)},y.negated=function(){var t=new m(this);return t.s=-t.s||null,t},y.plus=function(t,n){var e,c=this,r=c.s;if(n=(t=new m(t,n)).s,!r||!n)return new m(NaN);if(r!=n)return t.s=-n,c.minus(t);var i=c.e/l,a=t.e/l,o=c.c,f=t.c;if(!i||!a){if(!o||!f)return new m(r/0);if(!o[0]||!f[0])return f[0]?t:new m(o[0]?c:0*r)}if(i=k(i),a=k(a),o=o.slice(),r=i-a){for((e=0<r?(a=i,f):(r=-r,o)).reverse();r--;e.push(0));e.reverse()}for((r=o.length)-(n=f.length)<0&&(e=f,f=o,o=e,n=r),r=0;n;)r=(o[--n]=o[n]+f[n]+r)/P|0,o[n]=P===o[n]?0:o[n]%P;return r&&(o=[r].concat(o),++a),wt(t,o,a)},y.precision=y.sd=function(t,n){var e,c,r;if(t!=null&&t!==!!t)return O(t,1,$),n==null?n=Q:O(n,0,8),gt(new m(this),t,n);if(!(e=this.c))return null;if(c=(r=e.length-1)*l+1,r=e[r]){for(;r%10==0;r/=10,c--);for(r=e[0];10<=r;r/=10,c++);}return t&&this.e+1>c&&(c=this.e+1),c},y.shiftedBy=function(t){return O(t,-g,g),this.times("1e"+t)},y.squareRoot=y.sqrt=function(){var t,n,e,c,r,i=this,a=i.c,o=i.s,f=i.e,s=rt+4,u=new m("0.5");if(o!==1||!a||!a[0])return new m(!o||o<0&&(!a||a[0])?NaN:a?i:1/0);if((e=(o=Math.sqrt(+vt(i)))==0||o==1/0?(((n=L(a)).length+f)%2==0&&(n+="0"),o=Math.sqrt(+n),f=k((f+1)/2)-(f<0||f%2),new m(n=o==1/0?"1e"+f:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+f)):new m(o+"")).c[0]){for((o=(f=e.e)+s)<3&&(o=0);;)if(r=e,e=u.times(r.plus(p(i,r,s,1))),L(r.c).slice(0,o)===(n=L(e.c)).slice(0,o)){if(e.e<f&&--o,(n=n.slice(o-3,o+1))!="9999"&&(c||n!="4999")){+n&&(+n.slice(1)||n.charAt(0)!="5")||(gt(e,e.e+rt+2,1),t=!e.times(e).eq(i));break}if(!c&&(gt(r,r.e+rt+2,0),r.times(r).eq(i))){e=r;break}s+=4,o+=4,c=1}}return gt(e,e.e+rt+1,Q,t)},y.toExponential=function(t,n){return t!=null&&(O(t,0,$),t++),kt(this,t,n,1)},y.toFixed=function(t,n){return t!=null&&(O(t,0,$),t=t+this.e+1),kt(this,t,n)},y.toFormat=function(t,n,e){var c;if(e==null)t!=null&&n&&typeof n=="object"?(e=n,n=null):t&&typeof t=="object"?(e=t,t=n=null):e=At;else if(typeof e!="object")throw Error(w+"Argument not an object: "+e);if(c=this.toFixed(t,n),this.c){var r,i=c.split("."),a=+e.groupSize,o=+e.secondaryGroupSize,f=e.groupSeparator||"",s=i[0],u=i[1],d=this.s<0,q=d?s.slice(1):s,G=q.length;if(o&&(r=a,a=o,G-=o=r),0<a&&0<G){for(r=G%a||a,s=q.substr(0,r);r<G;r+=a)s+=f+q.substr(r,a);0<o&&(s+=f+q.slice(r)),d&&(s="-"+s)}c=u?s+(e.decimalSeparator||"")+((o=+e.fractionGroupSize)?u.replace(new RegExp("\\d{"+o+"}\\B","g"),"$&"+(e.fractionGroupSeparator||"")):u):s}return(e.prefix||"")+c+(e.suffix||"")},y.toFraction=function(t){var n,e,c,r,i,a,o,f,s,u,d,q,G=this,I=G.c;if(t!=null&&(!(o=new m(t)).isInteger()&&(o.c||o.s!==1)||o.lt(nt)))throw Error(w+"Argument "+(o.isInteger()?"out of range: ":"not an integer: ")+vt(o));if(!I)return new m(G);for(n=new m(nt),s=e=new m(nt),c=f=new m(nt),q=L(I),i=n.e=q.length-G.e-1,n.c[0]=U[(a=i%l)<0?l+a:a],t=!t||0<o.comparedTo(n)?0<i?n:s:o,a=ut,ut=1/0,o=new m(q),f.c[0]=0;u=p(o,n,0,1),(r=e.plus(u.times(c))).comparedTo(t)!=1;)e=c,c=r,s=f.plus(u.times(r=s)),f=r,n=o.minus(u.times(r=n)),o=r;return r=p(t.minus(e),c,0,1),f=f.plus(r.times(s)),e=e.plus(r.times(c)),f.s=s.s=G.s,d=p(s,c,i*=2,Q).minus(G).abs().comparedTo(p(f,e,i,Q).minus(G).abs())<1?[s,c]:[f,e],ut=a,d},y.toNumber=function(){return+vt(this)},y.toPrecision=function(t,n){return t!=null&&O(t,1,$),kt(this,t,n,2)},y.toString=function(t){var n,e=this,c=e.s,r=e.e;return r===null?c?(n="Infinity",c<0&&(n="-"+n)):n="NaN":(n=t==null?r<=ft||st<=r?B(L(e.c),r):A(L(e.c),r,"0"):t===10?A(L((e=gt(new m(e),rt+r+1,Q)).c),e.e,"0"):(O(t,2,Ot.length,"Base"),_(A(L(e.c),r,"0"),10,t,c,!0)),c<0&&e.c[0]&&(n="-"+n)),n},y.valueOf=y.toJSON=function(){return vt(this)},y._isBigNumber=!0,b&&(y[Symbol.toStringTag]="BigNumber",y[Symbol.for("nodejs.util.inspect.custom")]=y.valueOf),N!=null&&m.set(N),m}()).default=F.BigNumber=F,H!==void 0&&H.exports?H.exports=F:(x=x||(typeof self<"u"&&self?self:window)).BigNumber=F})(this)},{}],2:[function(D,H,at){H.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(x){var F=x%10;return~~(x%100/10)==1?"th":F==1?"st":F==2?"nd":F==3?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(D,H,at){function x(j,B){return function(A){if(Array.isArray(A))return A}(j)||function(A,h){if(Symbol.iterator in Object(A)||Object.prototype.toString.call(A)==="[object Arguments]"){var N=[],p=!0,_=!1,S=void 0;try{for(var E,M=A[Symbol.iterator]();!(p=(E=M.next()).done)&&(N.push(E.value),!h||N.length!==h);p=!0);}catch(R){_=!0,S=R}finally{try{p||M.return==null||M.return()}finally{if(_)throw S}}return N}}(j,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var F=D("./globalState"),J=D("./validating"),b=D("./parsing"),C=D("bignumber.js"),v={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},w={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},V=F.currentBytes(),P=V.binarySuffixes,l=V.decimalSuffixes,g={general:{scale:1024,suffixes:l,marker:"bd"},binary:{scale:1024,suffixes:P,marker:"b"},decimal:{scale:1e3,suffixes:l,marker:"d"}};function U(j){var B=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},A=2<arguments.length?arguments[2]:void 0;if(typeof B=="string"&&(B=b.parseFormat(B)),!J.validateFormat(B))return"ERROR: invalid format";var h=B.prefix||"",N=B.postfix||"",p=function(_,S,E){switch(S.output){case"currency":return S=O(S,F.currentCurrencyDefaultFormat()),function(M,R,Z){var K=Z.currentCurrency(),tt=Object.assign({},R),Y=Object.assign({},w,tt),X=void 0,y="",nt=!!Y.totalLength||!!Y.forceAverage||Y.average,rt=tt.currencyPosition||K.position,Q=tt.currencySymbol||K.symbol,ft=Y.spaceSeparatedCurrency!==void 0?Y.spaceSeparatedCurrency:Y.spaceSeparated;tt.lowPrecision===void 0&&(tt.lowPrecision=!1),ft&&(y=" "),rt==="infix"&&(X=y+Q+y);var st=T({instance:M,providedFormat:tt,state:Z,decimalSeparator:X});return rt==="prefix"&&(st=M._value<0&&Y.negative==="sign"?"-".concat(y).concat(Q).concat(st.slice(1)):0<M._value&&Y.forceSign?"+".concat(y).concat(Q).concat(st.slice(1)):Q+y+st),rt&&rt!=="postfix"||(y=!Y.spaceSeparatedAbbreviation&&nt?"":y,st=st+y+Q),st}(_,S,F);case"percent":return S=O(S,F.currentPercentageDefaultFormat()),function(M,R,Z,K){var tt=R.prefixSymbol,Y=T({instance:K(100*M._value),providedFormat:R,state:Z}),X=Object.assign({},w,R);return tt?"%".concat(X.spaceSeparated?" ":"").concat(Y):"".concat(Y).concat(X.spaceSeparated?" ":"","%")}(_,S,F,E);case"byte":return S=O(S,F.currentByteDefaultFormat()),function(M,R,Z,K){var tt=R.base||"binary",Y=Object.assign({},w,R),X=Z.currentBytes(),y=X.binarySuffixes,nt=X.decimalSuffixes,rt={general:{scale:1024,suffixes:nt||l,marker:"bd"},binary:{scale:1024,suffixes:y||P,marker:"b"},decimal:{scale:1e3,suffixes:nt||l,marker:"d"}}[tt],Q=z(M._value,rt.suffixes,rt.scale),ft=Q.value,st=Q.suffix,ct=T({instance:K(ft),providedFormat:R,state:Z,defaults:Z.currentByteDefaultFormat()});return"".concat(ct).concat(Y.spaceSeparated?" ":"").concat(st)}(_,S,F,E);case"time":return S=O(S,F.currentTimeDefaultFormat()),function(M){var R=Math.floor(M._value/60/60),Z=Math.floor((M._value-60*R*60)/60),K=Math.round(M._value-60*R*60-60*Z);return"".concat(R,":").concat(Z<10?"0":"").concat(Z,":").concat(K<10?"0":"").concat(K)}(_);case"ordinal":return S=O(S,F.currentOrdinalDefaultFormat()),function(M,R,Z){var K=Z.currentOrdinal(),tt=Object.assign({},w,R),Y=T({instance:M,providedFormat:R,state:Z}),X=K(M._value);return"".concat(Y).concat(tt.spaceSeparated?" ":"").concat(X)}(_,S,F);case"number":default:return T({instance:_,providedFormat:S,numbro:E})}}(j,B,A);return p=(p=h+p)+N}function z(j,B,A){var h=B[0],N=Math.abs(j);if(A<=N){for(var p=1;p<B.length;++p){var _=Math.pow(A,p),S=Math.pow(A,p+1);if(_<=N&&N<S){h=B[p],j/=_;break}}h===B[0]&&(j/=Math.pow(A,B.length-1),h=B[B.length-1])}return{value:j,suffix:h}}function $(j){for(var B="",A=0;A<j;A++)B+="0";return B}function k(j,B,A){var h=2<arguments.length&&A!==void 0?A:Math.round;return j.toString().indexOf("e")!==-1?function(N,p){var _=N.toString(),S=x(_.split("e"),2),E=S[0],M=S[1],R=x(E.split("."),2),Z=R[0],K=R[1],tt=K===void 0?"":K;if(0<+M)_=Z+tt+$(M-tt.length);else{var Y=".";Y=+Z<0?"-0".concat(Y):"0".concat(Y);var X=($(-M-1)+Math.abs(Z)+tt).substr(0,p);X.length<p&&(X+=$(p-X.length)),_=Y+X}return 0<+M&&0<p&&(_+=".".concat($(p))),_}(j,B):new C(h(+"".concat(j,"e+").concat(B))/Math.pow(10,B)).toFixed(B)}function L(j,B,A,h,N){var p=h.currentDelimiters(),_=p.thousands;N=N||p.decimal;var S=p.thousandsSize||3,E=j.toString(),M=E.split(".")[0],R=E.split(".")[1],Z=B<0&&M.indexOf("-")===0;return A&&(Z&&(M=M.slice(1)),function(K,tt){for(var Y=[],X=0,y=K;0<y;y--)X===tt&&(Y.unshift(y),X=0),X++;return Y}(M.length,S).forEach(function(K,tt){M=M.slice(0,K+tt)+_+M.slice(K+tt)}),Z&&(M="-".concat(M))),E=R?M+N+R:M}function T(j){var B=j.instance,A=j.providedFormat,h=j.state,N=h===void 0?F:h,p=j.decimalSeparator,_=j.defaults,S=_===void 0?N.currentDefaults():_,E=B._value;if(E===0&&N.hasZeroFormat())return N.getZeroFormat();if(!isFinite(E))return E.toString();var M,R,Z,K,tt,Y,X,y,nt=Object.assign({},w,S,A),rt=nt.totalLength,Q=rt?0:nt.characteristic,ft=nt.optionalCharacteristic,st=nt.forceAverage,ct=nt.lowPrecision,ut=!!rt||!!st||nt.average,bt=rt?-1:ut&&A.mantissa===void 0?0:nt.mantissa,Bt=!rt&&(A.optionalMantissa===void 0?bt===-1:nt.optionalMantissa),St=nt.trimMantissa,At=nt.thousandSeparated,Ot=nt.spaceSeparated,m=nt.negative,Tt=nt.forceSign,_t=nt.exponential,Mt=nt.roundingFunction,Nt="";if(ut){var kt=function(n){var e=n.value,c=n.forceAverage,r=n.lowPrecision,i=r===void 0||r,a=n.abbreviations,o=n.spaceSeparated,f=o!==void 0&&o,s=n.totalLength,u=s===void 0?0:s,d=n.roundingFunction,q=d===void 0?Math.round:d,G="",I=Math.abs(e),et=-1;if(c&&a[c]&&v[c]?(G=a[c],e/=v[c]):I>=v.trillion||i&&q(I/v.trillion)===1?(G=a.trillion,e/=v.trillion):I<v.trillion&&I>=v.billion||i&&q(I/v.billion)===1?(G=a.billion,e/=v.billion):I<v.billion&&I>=v.million||i&&q(I/v.million)===1?(G=a.million,e/=v.million):(I<v.million&&I>=v.thousand||i&&q(I/v.thousand)===1)&&(G=a.thousand,e/=v.thousand),G=G&&(f?" ":"")+G,u){var pt=e<0,ht=e.toString().split(".")[0],lt=pt?ht.length-1:ht.length;et=Math.max(u-lt,0)}return{value:e,abbreviation:G,mantissaPrecision:et}}({value:E,forceAverage:st,lowPrecision:ct,abbreviations:N.currentAbbreviations(),spaceSeparated:Ot,roundingFunction:Mt,totalLength:rt});E=kt.value,Nt+=kt.abbreviation,rt&&(bt=kt.mantissaPrecision)}if(_t){var Dt=(R=(M={value:E,characteristicPrecision:Q}).value,Z=M.characteristicPrecision,K=Z===void 0?0:Z,tt=x(R.toExponential().split("e"),2),Y=tt[0],X=tt[1],y=+Y,K&&1<K&&(y*=Math.pow(10,K-1),X=0<=(X-=K-1)?"+".concat(X):X),{value:y,abbreviation:"e".concat(X)});E=Dt.value,Nt=Dt.abbreviation+Nt}var wt,gt,vt,t=function(n,e,c,r,i,a){if(r===-1)return n;var o=k(e,r,a),f=x(o.toString().split("."),2),s=f[0],u=f[1],d=u===void 0?"":u;if(d.match(/^0+$/)&&(c||i))return s;var q=d.match(/0+$/);return i&&q?"".concat(s,".").concat(d.toString().slice(0,q.index)):o.toString()}(E.toString(),E,Bt,bt,St,Mt);return t=L(t=function(n,e,c,r){var i=n,a=x(i.toString().split("."),2),o=a[0],f=a[1];if(o.match(/^-?0$/)&&c)return f?"".concat(o.replace("0",""),".").concat(f):o.replace("0","");var s=e<0&&o.indexOf("-")===0;if(s&&(o=o.slice(1),i=i.slice(1)),o.length<r)for(var u=r-o.length,d=0;d<u;d++)i="0".concat(i);return s&&(i="-".concat(i)),i.toString()}(t,E,ft,Q),E,At,N,p),(ut||_t)&&(t=t+Nt),(Tt||E<0)&&(wt=t,vt=m,t=(gt=E)===0?wt:+wt==0?wt.replace("-",""):0<gt?"+".concat(wt):vt==="sign"?wt:"(".concat(wt.replace("-",""),")")),t}function O(j,B){if(!j)return B;var A=Object.keys(j);return A.length===1&&A[0]==="output"?B:j}H.exports=function(j){return{format:function(){for(var B=arguments.length,A=new Array(B),h=0;h<B;h++)A[h]=arguments[h];return U.apply(void 0,A.concat([j]))},getByteUnit:function(){for(var B=arguments.length,A=new Array(B),h=0;h<B;h++)A[h]=arguments[h];return function(N){var p=g.general;return z(N._value,p.suffixes,p.scale).suffix}.apply(void 0,A.concat([j]))},getBinaryByteUnit:function(){for(var B=arguments.length,A=new Array(B),h=0;h<B;h++)A[h]=arguments[h];return function(N){var p=g.binary;return z(N._value,p.suffixes,p.scale).suffix}.apply(void 0,A.concat([j]))},getDecimalByteUnit:function(){for(var B=arguments.length,A=new Array(B),h=0;h<B;h++)A[h]=arguments[h];return function(N){var p=g.decimal;return z(N._value,p.suffixes,p.scale).suffix}.apply(void 0,A.concat([j]))},formatOrDefault:O}}},{"./globalState":4,"./parsing":8,"./validating":10,"bignumber.js":1}],4:[function(D,H,at){var x=D("./en-US"),F=D("./validating"),J=D("./parsing"),b={},C=void 0,v={},w=null,V={};function P(g){C=g}function l(){return v[C]}b.languages=function(){return Object.assign({},v)},b.currentLanguage=function(){return C},b.currentBytes=function(){return l().bytes||{}},b.currentCurrency=function(){return l().currency},b.currentAbbreviations=function(){return l().abbreviations},b.currentDelimiters=function(){return l().delimiters},b.currentOrdinal=function(){return l().ordinal},b.currentDefaults=function(){return Object.assign({},l().defaults,V)},b.currentOrdinalDefaultFormat=function(){return Object.assign({},b.currentDefaults(),l().ordinalFormat)},b.currentByteDefaultFormat=function(){return Object.assign({},b.currentDefaults(),l().byteFormat)},b.currentPercentageDefaultFormat=function(){return Object.assign({},b.currentDefaults(),l().percentageFormat)},b.currentCurrencyDefaultFormat=function(){return Object.assign({},b.currentDefaults(),l().currencyFormat)},b.currentTimeDefaultFormat=function(){return Object.assign({},b.currentDefaults(),l().timeFormat)},b.setDefaults=function(g){g=J.parseFormat(g),F.validateFormat(g)&&(V=g)},b.getZeroFormat=function(){return w},b.setZeroFormat=function(g){return w=typeof g=="string"?g:null},b.hasZeroFormat=function(){return w!==null},b.languageData=function(g){if(g){if(v[g])return v[g];throw new Error('Unknown tag "'.concat(g,'"'))}return l()},b.registerLanguage=function(g){var U=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(!F.validateLanguage(g))throw new Error("Invalid language data");v[g.languageTag]=g,U&&P(g.languageTag)},b.setLanguage=function(g){var U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:x.languageTag;if(!v[g]){var z=g.split("-")[0],$=Object.keys(v).find(function(k){return k.split("-")[0]===z});return v[$]?void P($):void P(U)}P(g)},b.registerLanguage(x),C=x.languageTag,H.exports=b},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(D,H,at){H.exports=function(x){return{loadLanguagesInNode:function(F){return J=x,void F.forEach(function(b){var C=void 0;try{C=D("../languages/".concat(b))}catch{console.error('Unable to load "'.concat(b,'". No matching language file found.'))}C&&J.registerLanguage(C)});var J}}}},{}],6:[function(D,H,at){var x=D("bignumber.js");function F(J,b,C){var v=new x(J._value),w=b;return C.isNumbro(b)&&(w=b._value),w=new x(w),J._value=v.minus(w).toNumber(),J}H.exports=function(J){return{add:function(b,C){return w=C,V=J,P=new x((v=b)._value),l=w,V.isNumbro(w)&&(l=w._value),l=new x(l),v._value=P.plus(l).toNumber(),v;var v,w,V,P,l},subtract:function(b,C){return F(b,C,J)},multiply:function(b,C){return w=C,V=J,P=new x((v=b)._value),l=w,V.isNumbro(w)&&(l=w._value),l=new x(l),v._value=P.times(l).toNumber(),v;var v,w,V,P,l},divide:function(b,C){return w=C,V=J,P=new x((v=b)._value),l=w,V.isNumbro(w)&&(l=w._value),l=new x(l),v._value=P.dividedBy(l).toNumber(),v;var v,w,V,P,l},set:function(b,C){return v=b,V=w=C,J.isNumbro(w)&&(V=w._value),v._value=V,v;var v,w,V},difference:function(b,C){return v=C,F(V=(w=J)(b._value),v,w),Math.abs(V._value);var v,w,V},BigNumber:x}}},{"bignumber.js":1}],7:[function(D,H,at){function x(U,z){for(var $=0;$<z.length;$++){var k=z[$];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(U,k.key,k)}}var F=D("./globalState"),J=D("./validating"),b=D("./loading")(g),C=D("./unformatting"),v=D("./formatting")(g),w=D("./manipulating")(g),V=D("./parsing"),P=function(){function U(k){(function(L,T){if(!(L instanceof T))throw new TypeError("Cannot call a class as a function")})(this,U),this._value=k}var z,$;return z=U,($=[{key:"clone",value:function(){return g(this._value)}},{key:"format",value:function(k){var L=0<arguments.length&&k!==void 0?k:{};return v.format(this,L)}},{key:"formatCurrency",value:function(k){return typeof k=="string"&&(k=V.parseFormat(k)),(k=v.formatOrDefault(k,F.currentCurrencyDefaultFormat())).output="currency",v.format(this,k)}},{key:"formatTime",value:function(k){var L=0<arguments.length&&k!==void 0?k:{};return L.output="time",v.format(this,L)}},{key:"binaryByteUnits",value:function(){return v.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return v.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return v.getByteUnit(this)}},{key:"difference",value:function(k){return w.difference(this,k)}},{key:"add",value:function(k){return w.add(this,k)}},{key:"subtract",value:function(k){return w.subtract(this,k)}},{key:"multiply",value:function(k){return w.multiply(this,k)}},{key:"divide",value:function(k){return w.divide(this,k)}},{key:"set",value:function(k){return w.set(this,l(k))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&x(z.prototype,$),U}();function l(U){var z=U;return g.isNumbro(U)?z=U._value:typeof U=="string"?z=g.unformat(U):isNaN(U)&&(z=NaN),z}function g(U){return new P(l(U))}g.version="2.3.6",g.isNumbro=function(U){return U instanceof P},g.language=F.currentLanguage,g.registerLanguage=F.registerLanguage,g.setLanguage=F.setLanguage,g.languages=F.languages,g.languageData=F.languageData,g.zeroFormat=F.setZeroFormat,g.defaultFormat=F.currentDefaults,g.setDefaults=F.setDefaults,g.defaultCurrencyFormat=F.currentCurrencyDefaultFormat,g.validate=J.validate,g.loadLanguagesInNode=b.loadLanguagesInNode,g.unformat=C.unformat,g.BigNumber=w.BigNumber,H.exports=g},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(D,H,at){H.exports={parseFormat:function(x){var F,J,b,C,v,w,V,P,l,g,U,z,$,k,L,T,O,j,B,A,h,N,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return typeof x!="string"?x:(J=p,x=(b=(F=x).match(/^{([^}]*)}/))?(J.prefix=b[1],F.slice(b[0].length)):F,v=p,function(_,S){if(_.indexOf("$")===-1){if(_.indexOf("%")===-1)return _.indexOf("bd")!==-1?(S.output="byte",S.base="general"):_.indexOf("b")!==-1?(S.output="byte",S.base="binary"):_.indexOf("d")!==-1?(S.output="byte",S.base="decimal"):_.indexOf(":")===-1?_.indexOf("o")!==-1&&(S.output="ordinal"):S.output="time";S.output="percent"}else S.output="currency"}(x=(w=(C=x).match(/{([^}]*)}$/))?(v.postfix=w[1],C.slice(0,-w[0].length)):C,p),V=p,(P=x.match(/[1-9]+[0-9]*/))&&(V.totalLength=+P[0]),l=p,(g=x.split(".")[0].match(/0+/))&&(l.characteristic=g[0].length),function(_,S){if(_.indexOf(".")!==-1){var E=_.split(".")[0];S.optionalCharacteristic=E.indexOf("0")===-1}}(x,p),U=p,x.indexOf("a")!==-1&&(U.average=!0),$=p,(z=x).indexOf("K")!==-1?$.forceAverage="thousand":z.indexOf("M")!==-1?$.forceAverage="million":z.indexOf("B")!==-1?$.forceAverage="billion":z.indexOf("T")!==-1&&($.forceAverage="trillion"),function(_,S){var E=_.split(".")[1];if(E){var M=E.match(/0+/);M&&(S.mantissa=M[0].length)}}(x,p),L=p,(k=x).match(/\[\.]/)?L.optionalMantissa=!0:k.match(/\./)&&(L.optionalMantissa=!1),T=p,(O=x.split(".")[1])&&(T.trimMantissa=O.indexOf("[")!==-1),j=p,x.indexOf(",")!==-1&&(j.thousandSeparated=!0),B=p,x.indexOf(" ")!==-1&&(B.spaceSeparated=!0,B.spaceSeparatedCurrency=!0,(B.average||B.forceAverage)&&(B.spaceSeparatedAbbreviation=!0)),h=p,(A=x).match(/^\+?\([^)]*\)$/)&&(h.negative="parenthesis"),A.match(/^\+?-/)&&(h.negative="sign"),N=p,x.match(/^\+/)&&(N.forceSign=!0),p)}}},{}],9:[function(D,H,at){var x=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function F(b){return b.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(b,C,v,w,V,P,l){var g=2<arguments.length&&v!==void 0?v:"",U=3<arguments.length?w:void 0,z=4<arguments.length?V:void 0,$=5<arguments.length?P:void 0,k=6<arguments.length?l:void 0;if(b!=="")return b===z?0:function L(T,O,j,B,A,h,N){var p=2<arguments.length&&j!==void 0?j:"",_=3<arguments.length?B:void 0,S=4<arguments.length?A:void 0,E=5<arguments.length?h:void 0,M=6<arguments.length?N:void 0;if(!isNaN(+T))return+T;var R="",Z=T.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(Z!==T)return-1*L(Z,O,p,_,S,E,M);for(var K=0;K<x.length;K++){var tt=x[K];if((R=T.replace(RegExp("([0-9 ])(".concat(tt.key,")$")),"$1"))!==T)return L(R,O,p,_,S,E,M)*tt.factor}if((R=T.replace("%",""))!==T)return L(R,O,p,_,S,E,M)/100;var Y=parseFloat(T);if(!isNaN(Y)){var X=_(Y);if(X&&X!=="."&&(R=T.replace(new RegExp("".concat(F(X),"$")),""))!==T)return L(R,O,p,_,S,E,M);var y={};Object.keys(E).forEach(function(ut){y[E[ut]]=ut});for(var nt=Object.keys(y).sort().reverse(),rt=nt.length,Q=0;Q<rt;Q++){var ft=nt[Q],st=y[ft];if((R=T.replace(ft,""))!==T){var ct=void 0;switch(st){case"thousand":ct=Math.pow(10,3);break;case"million":ct=Math.pow(10,6);break;case"billion":ct=Math.pow(10,9);break;case"trillion":ct=Math.pow(10,12)}return L(R,O,p,_,S,E,M)*ct}}}}(function(L,T,O){var j=2<arguments.length&&O!==void 0?O:"",B=L.replace(j,"");return B=(B=B.replace(new RegExp("([0-9])".concat(F(T.thousands),"([0-9])"),"g"),"$1$2")).replace(T.decimal,".")}(b,C,g),C,g,U,z,$,k)}H.exports={unformat:function(b,C){var v,w,V,P=D("./globalState"),l=P.currentDelimiters(),g=P.currentCurrency().symbol,U=P.currentOrdinal(),z=P.getZeroFormat(),$=P.currentAbbreviations(),k=void 0;if(typeof b=="string")k=function(L,T){if(L.indexOf(":")&&T.thousands!==":"){var O=L.split(":");if(O.length===3){var j=+O[0],B=+O[1],A=+O[2];return!isNaN(j)&&!isNaN(B)&&!isNaN(A)}}}(b,l)?(v=b.split(":"),w=+v[0],V=+v[1],+v[2]+60*V+3600*w):J(b,l,g,U,z,$,C);else{if(typeof b!="number")return;k=b}if(k!==void 0)return k}}},{"./globalState":4}],10:[function(D,H,at){function x(l){return function(g){if(Array.isArray(g)){for(var U=0,z=new Array(g.length);U<g.length;U++)z[U]=g[U];return z}}(l)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function F(l){return(F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(l)}var J=D("./unformatting"),b=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,C={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(l,g){return g.output==="byte"},message:"`base` must be provided only when the output is `byte`",mandatory:function(l){return l.output==="byte"}},characteristic:{type:"number",restriction:function(l){return 0<=l},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",lowPrecision:{type:"boolean",restriction:function(l,g){return g.average===!0},message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(l){return 0<=l},message:"value must be positive"},{restriction:function(l,g){return!g.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(l){return 0<=l},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(l,g){return g.output==="percent"},message:"`prefixSymbol` can be provided only when the output is `percent`"}},v={languageTag:{type:"string",mandatory:!0,restriction:function(l){return l.match(b)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function w(l){return J.unformat(l)!==void 0}function V(l,g,U,z){var $=3<arguments.length&&z!==void 0&&z,k=Object.keys(l).map(function(L){if(!g[L])return console.error("".concat(U," Invalid key: ").concat(L)),!1;var T=l[L],O=g[L];if(typeof O=="string"&&(O={type:O}),O.type==="format"){if(!V(T,C,"[Validate ".concat(L,"]"),!0))return!1}else if(F(T)!==O.type)return console.error("".concat(U," ").concat(L,' type mismatched: "').concat(O.type,'" expected, "').concat(F(T),'" provided')),!1;if(O.restrictions&&O.restrictions.length)for(var j=O.restrictions.length,B=0;B<j;B++){var A=O.restrictions[B],h=A.restriction,N=A.message;if(!h(T,l))return console.error("".concat(U," ").concat(L," invalid value: ").concat(N)),!1}return O.restriction&&!O.restriction(T,l)?(console.error("".concat(U," ").concat(L," invalid value: ").concat(O.message)),!1):O.validValues&&O.validValues.indexOf(T)===-1?(console.error("".concat(U," ").concat(L," invalid value: must be among ").concat(JSON.stringify(O.validValues),', "').concat(T,'" provided')),!1):!(O.children&&!V(T,O.children,"[Validate ".concat(L,"]")))});return $||k.push.apply(k,x(Object.keys(g).map(function(L){var T=g[L];if(typeof T=="string"&&(T={type:T}),T.mandatory){var O=T.mandatory;if(typeof O=="function"&&(O=O(l)),O&&l[L]===void 0)return console.error("".concat(U,' Missing mandatory key "').concat(L,'"')),!1}return!0}))),k.reduce(function(L,T){return L&&T},!0)}function P(l){return V(l,C,"[Validate format]")}H.exports={validate:function(l,g){var U=w(l),z=P(g);return U&&z},validateFormat:P,validateInput:w,validateLanguage:function(l){return V(l,v,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)})})(Vt);var en=Vt.exports;const jt=Wt(en);class Ut extends $t{static fields(){return{id:this.attr(null),address:this.string(""),balance:this.number(0),index:this.number(null),name:this.string(""),symbol:this.string(""),decimals:this.attr(null),token_id:this.attr(0),weight:this.number(0),pool_id:this.string(""),pool_token_id:this.number(0),FA2:this.boolean(!1),userBalance:this.string("0"),icon:this.string(null)}}normalizedBalance(){return Lt(this.userBalance).dividedBy(10**this.decimals).toString()}formatBalance(){return jt(this.normalizedBalance()).format({average:!0,totalLength:6})}static formatPrice(W){return jt(W).formatCurrency({mantissa:2})}isStable(){return[{address:"KT1JA3UQ6R4C84mH3FqS3G5mKFeEdLumrDc3".toUpperCase(),id:7},{address:"KT1JA3UQ6R4C84mH3FqS3G5mKFeEdLumrDc3".toUpperCase(),id:5}].some(D=>JSON.stringify({address:this.address.toUpperCase(),id:this.pool_token_id})===JSON.stringify(D))}}Et(Ut,"entity","pool_tokens"),Et(Ut,"piniaOptions",{persist:zt.localStorage});const Rt=class extends $t{static fields(){return{id:this.attr(null),swaps_count:this.number(0),address:this.string(""),factory:this.string(""),poolId:this.number(null),owner:this.string(""),create_time:this.attr(null),name:this.string(""),symbol:this.string(""),pool_type:this.string(""),pool_shares:this.string("0"),swap_fee:this.number(0),tokens_list:this.string(""),total_swap_volume:this.number(0),total_swap_fee:this.number(0),total_liquidity:this.number(0),pool_tokens:this.hasMany(Ut,"pool_id"),userLPBalance:this.string(null)}}async getPoolId(W){var x;const at=(x=(await(await W.contract.at(this.address)).storage()).poolId)==null?void 0:x.Some[1];console.log(at),Jt(Rt).save({id:this.id,poolId:at.toNumber()})}async getUserBalances(W){const D=this.pool_tokens.map(at=>({address:at.address,token_id:at.pool_token_id,id:at.id}));console.log(D);const H=await Qt(D,W);return H.success?H.balances:null}async getUserLPBalance(W){const D=await tn(this.address,W);return D.success?D.balance.toString():null}async getPoolShares(){const W=await nn(this.address);return W.success?W.shares.toString():null}normalizedLPBalance(){return Lt(this.userLPBalance||0).dividedBy(10**18).toString()}formatLPBalance(){return jt(this.normalizedLPBalance()).format({average:!0,totalLength:6})}totalLiquidity(){return this.pool_tokens.reduce((W,D)=>W+D.balance*Yt.mockPriceData[D.symbol],0)}};let Pt=Rt;Et(Pt,"entity","pools"),Et(Pt,"piniaOptions",{persist:zt.localStorage});export{Pt as P,Ut as a,sn as c,Qt as g,jt as n};
