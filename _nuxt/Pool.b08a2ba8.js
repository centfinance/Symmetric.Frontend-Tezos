import{aN as Ct,aO as zt,aK as jt,aL as Ut,i as Gt,a3 as Vt}from"./entry.95465c62.js";import{a as qt}from"./index.a506b942.js";import{B as Et,T as Rt,b as Tt,g as Zt}from"./taquito.es6.73159707.js";const Kt=async ft=>{try{return await qt.get(`${zt}v1/tokens${ft||""}`)}catch(rt){throw rt}},Ht=async(ft,rt)=>{try{const H=(await Kt(`/balances?account=${rt}&token.contract.in=${ft.map(N=>N.address).toString()}&token.tokenId.in=${ft.map(N=>N.token_id).toString()}`)).data;return H.length<=0?{success:!1,balances:[0]}:{success:!0,balances:H.map(N=>{const D=ft.find(W=>W.address==N.token.contract.address&&W.token_id===Number(N.token.tokenId)).id;if(D)return{id:D,userBalance:N.balance}})}}catch(E){return console.log(E),{success:!1,balances:[new Et(0)],error:E.message}}},Wt=async(ft,rt)=>{try{return{success:!0,balance:await(await new Rt(Ct()).contract.at(ft)).contractViews.getBalance(rt).executeView({viewCaller:rt})}}catch(E){return console.log(`Error: ${JSON.stringify(E,null,2)}`),{success:!1,balance:Et(0)}}},Jt=async ft=>{try{return{success:!0,shares:await(await new Rt(Ct()).contract.at(ft)).contractViews.getTotalSupply().executeView({viewCaller:"KT1N5qYdthynXLfGbteRVHgKy4m6q2NGjt57"})}}catch(rt){return console.log(`Error: ${JSON.stringify(rt,null,2)}`),{success:!1,shares:Et(0)}}},en=(ft,rt,E)=>{const H=ft.multipliedBy(1e18).dividedBy(rt);return E.map(N=>({amount:N.balance.multipliedBy(H).dividedBy(10**18),index:N.index}))};var It={exports:{}};(function(ft,rt){(function(E){ft.exports=E()})(function(){return function E(H,at,N){function D(P,v){if(!at[P]){if(!H[P]){var w=typeof Tt=="function"&&Tt;if(!v&&w)return w(P,!0);if(W)return W(P,!0);var V=new Error("Cannot find module '"+P+"'");throw V.code="MODULE_NOT_FOUND",V}var C=at[P]={exports:{}};H[P][0].call(C.exports,function(l){return D(H[P][1][l]||l)},C,C.exports,E,H,at,N)}return at[P].exports}for(var W=typeof Tt=="function"&&Tt,b=0;b<N.length;b++)D(N[b]);return D}({1:[function(E,H,at){(function(N){var D,W=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",P=Math.ceil,v=Math.floor,w="[BigNumber Error] ",V=w+"Number primitive has more than 15 significant digits: ",C=1e14,l=14,g=9007199254740991,U=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],z=1e7,$=1e9;function k(h){var O=0|h;return 0<h||h===O?O:O-1}function L(h){for(var O,p,_=1,S=h.length,F=h[0]+"";_<S;){for(O=h[_++]+"",p=l-O.length;p--;O="0"+O);F+=O}for(S=F.length;F.charCodeAt(--S)===48;);return F.slice(0,S+1||1)}function T(h,O){var p,_,S=h.c,F=O.c,A=h.s,R=O.s,Z=h.e,K=O.e;if(!A||!R)return null;if(p=S&&!S[0],_=F&&!F[0],p||_)return p?_?0:-R:A;if(A!=R)return A;if(p=A<0,_=Z==K,!S||!F)return _?0:!S^p?1:-1;if(!_)return K<Z^p?1:-1;for(R=(Z=S.length)<(K=F.length)?Z:K,A=0;A<R;A++)if(S[A]!=F[A])return S[A]>F[A]^p?1:-1;return Z==K?0:K<Z^p?1:-1}function x(h,O,p,_){if(h<O||p<h||h!==v(h))throw Error(w+(_||"Argument")+(typeof h=="number"?h<O||p<h?" out of range: ":" not an integer: ":" not a primitive number: ")+String(h))}function j(h){var O=h.c.length-1;return k(h.e/l)==O&&h.c[O]%2!=0}function B(h,O){return(1<h.length?h.charAt(0)+"."+h.slice(1):h)+(O<0?"e":"e+")+O}function M(h,O,p){var _,S;if(O<0){for(S=p+".";++O;S+=p);h=S+h}else if(++O>(_=h.length)){for(S=p,O-=_;--O;S+=p);h+=S}else O<_&&(h=h.slice(0,O)+"."+h.slice(O));return h}(D=function h(O){var p,_,S,F,A,R,Z,K,Q,J,Y,y=m.prototype={constructor:m,toString:null,valueOf:null},tt=new m(1),et=20,X=4,lt=-7,ot=21,ut=-1e7,st=1e7,bt=!1,Bt=1,St=0,Mt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},Ot="0123456789abcdefghijklmnopqrstuvwxyz";function m(t,n){var e,c,r,i,a,o,f,s,u=this;if(!(u instanceof m))return new m(t,n);if(n==null){if(t&&t._isBigNumber===!0)return u.s=t.s,void(!t.c||t.e>st?u.c=u.e=null:t.e<ut?u.c=[u.e=0]:(u.e=t.e,u.c=t.c.slice()));if((o=typeof t=="number")&&0*t==0){if(u.s=1/t<0?(t=-t,-1):1,t===~~t){for(i=0,a=t;10<=a;a/=10,i++);return void(st<i?u.c=u.e=null:(u.e=i,u.c=[t]))}s=String(t)}else{if(!W.test(s=String(t)))return S(u,s,o);u.s=s.charCodeAt(0)==45?(s=s.slice(1),-1):1}-1<(i=s.indexOf("."))&&(s=s.replace(".","")),0<(a=s.search(/e/i))?(i<0&&(i=a),i+=+s.slice(a+1),s=s.substring(0,a)):i<0&&(i=s.length)}else{if(x(n,2,Ot.length,"Base"),n==10)return gt(u=new m(t),et+u.e+1,X);if(s=String(t),o=typeof t=="number"){if(0*t!=0)return S(u,s,o,n);if(u.s=1/t<0?(s=s.slice(1),-1):1,m.DEBUG&&15<s.replace(/^0\.0*|\./,"").length)throw Error(V+t)}else u.s=s.charCodeAt(0)===45?(s=s.slice(1),-1):1;for(e=Ot.slice(0,n),i=a=0,f=s.length;a<f;a++)if(e.indexOf(c=s.charAt(a))<0){if(c=="."){if(i<a){i=f;continue}}else if(!r&&(s==s.toUpperCase()&&(s=s.toLowerCase())||s==s.toLowerCase()&&(s=s.toUpperCase()))){r=!0,a=-1,i=0;continue}return S(u,String(t),o,n)}o=!1,-1<(i=(s=_(s,n,10,u.s)).indexOf("."))?s=s.replace(".",""):i=s.length}for(a=0;s.charCodeAt(a)===48;a++);for(f=s.length;s.charCodeAt(--f)===48;);if(s=s.slice(a,++f)){if(f-=a,o&&m.DEBUG&&15<f&&(g<t||t!==v(t)))throw Error(V+u.s*t);if((i=i-a-1)>st)u.c=u.e=null;else if(i<ut)u.c=[u.e=0];else{if(u.e=i,u.c=[],a=(i+1)%l,i<0&&(a+=l),a<f){for(a&&u.c.push(+s.slice(0,a)),f-=l;a<f;)u.c.push(+s.slice(a,a+=l));a=l-(s=s.slice(a)).length}else a-=f;for(;a--;s+="0");u.c.push(+s)}}else u.c=[u.e=0]}function Lt(t,n,e,c){for(var r,i,a=[0],o=0,f=t.length;o<f;){for(i=a.length;i--;a[i]*=n);for(a[0]+=c.indexOf(t.charAt(o++)),r=0;r<a.length;r++)a[r]>e-1&&(a[r+1]==null&&(a[r+1]=0),a[r+1]+=a[r]/e|0,a[r]%=e)}return a.reverse()}function _t(t,n,e){var c,r,i,a,o=0,f=t.length,s=n%z,u=n/z|0;for(t=t.slice();f--;)o=((r=s*(i=t[f]%z)+(c=u*i+(a=t[f]/z|0)*s)%z*z+o)/e|0)+(c/z|0)+u*a,t[f]=r%e;return o&&(t=[o].concat(t)),t}function At(t,n,e,c){var r,i;if(e!=c)i=c<e?1:-1;else for(r=i=0;r<e;r++)if(t[r]!=n[r]){i=t[r]>n[r]?1:-1;break}return i}function Nt(t,n,e,c){for(var r=0;e--;)t[e]-=r,r=t[e]<n[e]?1:0,t[e]=r*c+t[e]-n[e];for(;!t[0]&&1<t.length;t.splice(0,1));}function kt(t,n,e,c){var r,i,a,o,f;if(e==null?e=X:x(e,0,8),!t.c)return t.toString();if(r=t.c[0],a=t.e,n==null)f=L(t.c),f=c==1||c==2&&(a<=lt||ot<=a)?B(f,a):M(f,a,"0");else if(i=(t=gt(new m(t),n,e)).e,o=(f=L(t.c)).length,c==1||c==2&&(n<=i||i<=lt)){for(;o<n;f+="0",o++);f=B(f,i)}else if(n-=a,f=M(f,i,"0"),o<i+1){if(0<--n)for(f+=".";n--;f+="0");}else if(0<(n+=i-o))for(i+1==o&&(f+=".");n--;f+="0");return t.s<0&&r?"-"+f:f}function Dt(t,n){for(var e,c=1,r=new m(t[0]);c<t.length;c++){if(!(e=new m(t[c])).s){r=e;break}n.call(r,e)&&(r=e)}return r}function wt(t,n,e){for(var c=1,r=n.length;!n[--r];n.pop());for(r=n[0];10<=r;r/=10,c++);return(e=c+e*l-1)>st?t.c=t.e=null:e<ut?t.c=[t.e=0]:(t.e=e,t.c=n),t}function gt(t,n,e,c){var r,i,a,o,f,s,u,d=t.c,q=U;if(d){t:{for(r=1,o=d[0];10<=o;o/=10,r++);if((i=n-r)<0)i+=l,a=n,u=(f=d[s=0])/q[r-a-1]%10|0;else if((s=P((i+1)/l))>=d.length){if(!c)break t;for(;d.length<=s;d.push(0));f=u=0,a=(i%=l)-l+(r=1)}else{for(f=o=d[s],r=1;10<=o;o/=10,r++);u=(a=(i%=l)-l+r)<0?0:f/q[r-a-1]%10|0}if(c=c||n<0||d[s+1]!=null||(a<0?f:f%q[r-a-1]),c=e<4?(u||c)&&(e==0||e==(t.s<0?3:2)):5<u||u==5&&(e==4||c||e==6&&(0<i?0<a?f/q[r-a]:0:d[s-1])%10&1||e==(t.s<0?8:7)),n<1||!d[0])return d.length=0,c?(n-=t.e+1,d[0]=q[(l-n%l)%l],t.e=-n||0):d[0]=t.e=0,t;if(i==0?(d.length=s,o=1,s--):(d.length=s+1,o=q[l-i],d[s]=0<a?v(f/q[r-a]%q[a])*o:0),c)for(;;){if(s==0){for(i=1,a=d[0];10<=a;a/=10,i++);for(a=d[0]+=o,o=1;10<=a;a/=10,o++);i!=o&&(t.e++,d[0]==C&&(d[0]=1));break}if(d[s]+=o,d[s]!=C)break;d[s--]=0,o=1}for(i=d.length;d[--i]===0;d.pop());}t.e>st?t.c=t.e=null:t.e<ut&&(t.c=[t.e=0])}return t}function vt(t){var n,e=t.e;return e===null?t.toString():(n=L(t.c),n=e<=lt||ot<=e?B(n,e):M(n,e,"0"),t.s<0?"-"+n:n)}return m.clone=h,m.ROUND_UP=0,m.ROUND_DOWN=1,m.ROUND_CEIL=2,m.ROUND_FLOOR=3,m.ROUND_HALF_UP=4,m.ROUND_HALF_DOWN=5,m.ROUND_HALF_EVEN=6,m.ROUND_HALF_CEIL=7,m.ROUND_HALF_FLOOR=8,m.EUCLID=9,m.config=m.set=function(t){var n,e;if(t!=null){if(typeof t!="object")throw Error(w+"Object expected: "+t);if(t.hasOwnProperty(n="DECIMAL_PLACES")&&(x(e=t[n],0,$,n),et=e),t.hasOwnProperty(n="ROUNDING_MODE")&&(x(e=t[n],0,8,n),X=e),t.hasOwnProperty(n="EXPONENTIAL_AT")&&((e=t[n])&&e.pop?(x(e[0],-$,0,n),x(e[1],0,$,n),lt=e[0],ot=e[1]):(x(e,-$,$,n),lt=-(ot=e<0?-e:e))),t.hasOwnProperty(n="RANGE"))if((e=t[n])&&e.pop)x(e[0],-$,-1,n),x(e[1],1,$,n),ut=e[0],st=e[1];else{if(x(e,-$,$,n),!e)throw Error(w+n+" cannot be zero: "+e);ut=-(st=e<0?-e:e)}if(t.hasOwnProperty(n="CRYPTO")){if((e=t[n])!==!!e)throw Error(w+n+" not true or false: "+e);if(e){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw bt=!e,Error(w+"crypto unavailable");bt=e}else bt=e}if(t.hasOwnProperty(n="MODULO_MODE")&&(x(e=t[n],0,9,n),Bt=e),t.hasOwnProperty(n="POW_PRECISION")&&(x(e=t[n],0,$,n),St=e),t.hasOwnProperty(n="FORMAT")){if(typeof(e=t[n])!="object")throw Error(w+n+" not an object: "+e);Mt=e}if(t.hasOwnProperty(n="ALPHABET")){if(typeof(e=t[n])!="string"||/^.$|[+-.\s]|(.).*\1/.test(e))throw Error(w+n+" invalid: "+e);Ot=e}}return{DECIMAL_PLACES:et,ROUNDING_MODE:X,EXPONENTIAL_AT:[lt,ot],RANGE:[ut,st],CRYPTO:bt,MODULO_MODE:Bt,POW_PRECISION:St,FORMAT:Mt,ALPHABET:Ot}},m.isBigNumber=function(t){if(!t||t._isBigNumber!==!0)return!1;if(!m.DEBUG)return!0;var n,e,c=t.c,r=t.e,i=t.s;t:if({}.toString.call(c)=="[object Array]"){if((i===1||i===-1)&&-$<=r&&r<=$&&r===v(r)){if(c[0]===0){if(r===0&&c.length===1)return!0;break t}if((n=(r+1)%l)<1&&(n+=l),String(c[0]).length==n){for(n=0;n<c.length;n++)if((e=c[n])<0||C<=e||e!==v(e))break t;if(e!==0)return!0}}}else if(c===null&&r===null&&(i===null||i===1||i===-1))return!0;throw Error(w+"Invalid BigNumber: "+t)},m.maximum=m.max=function(){return Dt(arguments,y.lt)},m.minimum=m.min=function(){return Dt(arguments,y.gt)},m.random=(F=9007199254740992,A=Math.random()*F&2097151?function(){return v(Math.random()*F)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var n,e,c,r,i,a=0,o=[],f=new m(tt);if(t==null?t=et:x(t,0,$),r=P(t/l),bt)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(r*=2));a<r;)9e15<=(i=131072*n[a]+(n[a+1]>>>11))?(e=crypto.getRandomValues(new Uint32Array(2)),n[a]=e[0],n[a+1]=e[1]):(o.push(i%1e14),a+=2);a=r/2}else{if(!crypto.randomBytes)throw bt=!1,Error(w+"crypto unavailable");for(n=crypto.randomBytes(r*=7);a<r;)9e15<=(i=281474976710656*(31&n[a])+1099511627776*n[a+1]+4294967296*n[a+2]+16777216*n[a+3]+(n[a+4]<<16)+(n[a+5]<<8)+n[a+6])?crypto.randomBytes(7).copy(n,a):(o.push(i%1e14),a+=7);a=r/7}if(!bt)for(;a<r;)(i=A())<9e15&&(o[a++]=i%1e14);for(r=o[--a],t%=l,r&&t&&(i=U[l-t],o[a]=v(r/i)*i);o[a]===0;o.pop(),a--);if(a<0)o=[c=0];else{for(c=-1;o[0]===0;o.splice(0,1),c-=l);for(a=1,i=o[0];10<=i;i/=10,a++);a<l&&(c-=l-a)}return f.e=c,f.c=o,f}),m.sum=function(){for(var t=1,n=arguments,e=new m(n[0]);t<n.length;)e=e.plus(n[t++]);return e},R="0123456789",_=function(t,n,e,c,r){var i,a,o,f,s,u,d,q,G=t.indexOf("."),I=et,nt=X;for(0<=G&&(f=St,St=0,t=t.replace(".",""),u=(q=new m(n)).pow(t.length-G),St=f,q.c=Lt(M(L(u.c),u.e,"0"),10,e,R),q.e=q.c.length),o=f=(d=Lt(t,n,e,r?(i=Ot,R):(i=R,Ot))).length;d[--f]==0;d.pop());if(!d[0])return i.charAt(0);if(G<0?--o:(u.c=d,u.e=o,u.s=c,d=(u=p(u,q,I,nt,e)).c,s=u.r,o=u.e),G=d[a=o+I+1],f=e/2,s=s||a<0||d[a+1]!=null,s=nt<4?(G!=null||s)&&(nt==0||nt==(u.s<0?3:2)):f<G||G==f&&(nt==4||s||nt==6&&1&d[a-1]||nt==(u.s<0?8:7)),a<1||!d[0])t=s?M(i.charAt(1),-I,i.charAt(0)):i.charAt(0);else{if(d.length=a,s)for(--e;++d[--a]>e;)d[a]=0,a||(++o,d=[1].concat(d));for(f=d.length;!d[--f];);for(G=0,t="";G<=f;t+=i.charAt(d[G++]));t=M(t,o,i.charAt(0))}return t},p=function(t,n,e,c,r){var i,a,o,f,s,u,d,q,G,I,nt,pt,ht,ct,dt,xt,Ft,yt=t.s==n.s?1:-1,mt=t.c,it=n.c;if(!(mt&&mt[0]&&it&&it[0]))return new m(t.s&&n.s&&(mt?!it||mt[0]!=it[0]:it)?mt&&mt[0]==0||!it?0*yt:yt/0:NaN);for(G=(q=new m(yt)).c=[],yt=e+(a=t.e-n.e)+1,r||(r=C,a=k(t.e/l)-k(n.e/l),yt=yt/l|0),o=0;it[o]==(mt[o]||0);o++);if(it[o]>(mt[o]||0)&&a--,yt<0)G.push(1),f=!0;else{for(ct=mt.length,xt=it.length,yt+=2,1<(s=v(r/(it[o=0]+1)))&&(it=_t(it,s,r),mt=_t(mt,s,r),xt=it.length,ct=mt.length),ht=xt,nt=(I=mt.slice(0,xt)).length;nt<xt;I[nt++]=0);Ft=it.slice(),Ft=[0].concat(Ft),dt=it[0],it[1]>=r/2&&dt++;do{if(s=0,(i=At(it,I,xt,nt))<0){if(pt=I[0],xt!=nt&&(pt=pt*r+(I[1]||0)),1<(s=v(pt/dt)))for(r<=s&&(s=r-1),d=(u=_t(it,s,r)).length,nt=I.length;At(u,I,d,nt)==1;)s--,Nt(u,xt<d?Ft:it,d,r),d=u.length,i=1;else s==0&&(i=s=1),d=(u=it.slice()).length;if(d<nt&&(u=[0].concat(u)),Nt(I,u,nt,r),nt=I.length,i==-1)for(;At(it,I,xt,nt)<1;)s++,Nt(I,xt<nt?Ft:it,nt,r),nt=I.length}else i===0&&(s++,I=[0]);G[o++]=s,I[0]?I[nt++]=mt[ht]||0:(I=[mt[ht]],nt=1)}while((ht++<ct||I[0]!=null)&&yt--);f=I[0]!=null,G[0]||G.splice(0,1)}if(r==C){for(o=1,yt=G[0];10<=yt;yt/=10,o++);gt(q,e+(q.e=o+a*l-1)+1,c,f)}else q.e=a,q.r=+f;return q},Z=/^(-?)0([xbo])(?=\w[\w.]*$)/i,K=/^([^.]+)\.$/,Q=/^\.([^.]+)$/,J=/^-?(Infinity|NaN)$/,Y=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(t,n,e,c){var r,i=e?n:n.replace(Y,"");if(J.test(i))t.s=isNaN(i)?null:i<0?-1:1;else{if(!e&&(i=i.replace(Z,function(a,o,f){return r=(f=f.toLowerCase())=="x"?16:f=="b"?2:8,c&&c!=r?a:o}),c&&(r=c,i=i.replace(K,"$1").replace(Q,"0.$1")),n!=i))return new m(i,r);if(m.DEBUG)throw Error(w+"Not a"+(c?" base "+c:"")+" number: "+n);t.s=null}t.c=t.e=null},y.absoluteValue=y.abs=function(){var t=new m(this);return t.s<0&&(t.s=1),t},y.comparedTo=function(t,n){return T(this,new m(t,n))},y.decimalPlaces=y.dp=function(t,n){var e,c,r;if(t!=null)return x(t,0,$),n==null?n=X:x(n,0,8),gt(new m(this),t+this.e+1,n);if(!(e=this.c))return null;if(c=((r=e.length-1)-k(this.e/l))*l,r=e[r])for(;r%10==0;r/=10,c--);return c<0&&(c=0),c},y.dividedBy=y.div=function(t,n){return p(this,new m(t,n),et,X)},y.dividedToIntegerBy=y.idiv=function(t,n){return p(this,new m(t,n),0,1)},y.exponentiatedBy=y.pow=function(t,n){var e,c,r,i,a,o,f,s,u=this;if((t=new m(t)).c&&!t.isInteger())throw Error(w+"Exponent not an integer: "+vt(t));if(n!=null&&(n=new m(n)),a=14<t.e,!u.c||!u.c[0]||u.c[0]==1&&!u.e&&u.c.length==1||!t.c||!t.c[0])return s=new m(Math.pow(+vt(u),a?2-j(t):+vt(t))),n?s.mod(n):s;if(o=t.s<0,n){if(n.c?!n.c[0]:!n.s)return new m(NaN);(c=!o&&u.isInteger()&&n.isInteger())&&(u=u.mod(n))}else{if(9<t.e&&(0<u.e||u.e<-1||(u.e==0?1<u.c[0]||a&&24e7<=u.c[1]:u.c[0]<8e13||a&&u.c[0]<=9999975e7)))return i=u.s<0&&j(t)?-0:0,-1<u.e&&(i=1/i),new m(o?1/i:i);St&&(i=P(St/l+2))}for(f=a?(e=new m(.5),o&&(t.s=1),j(t)):(r=Math.abs(+vt(t)))%2,s=new m(tt);;){if(f){if(!(s=s.times(u)).c)break;i?s.c.length>i&&(s.c.length=i):c&&(s=s.mod(n))}if(r){if((r=v(r/2))===0)break;f=r%2}else if(gt(t=t.times(e),t.e+1,1),14<t.e)f=j(t);else{if((r=+vt(t))==0)break;f=r%2}u=u.times(u),i?u.c&&u.c.length>i&&(u.c.length=i):c&&(u=u.mod(n))}return c?s:(o&&(s=tt.div(s)),n?s.mod(n):i?gt(s,St,X,void 0):s)},y.integerValue=function(t){var n=new m(this);return t==null?t=X:x(t,0,8),gt(n,n.e+1,t)},y.isEqualTo=y.eq=function(t,n){return T(this,new m(t,n))===0},y.isFinite=function(){return!!this.c},y.isGreaterThan=y.gt=function(t,n){return 0<T(this,new m(t,n))},y.isGreaterThanOrEqualTo=y.gte=function(t,n){return(n=T(this,new m(t,n)))===1||n===0},y.isInteger=function(){return!!this.c&&k(this.e/l)>this.c.length-2},y.isLessThan=y.lt=function(t,n){return T(this,new m(t,n))<0},y.isLessThanOrEqualTo=y.lte=function(t,n){return(n=T(this,new m(t,n)))===-1||n===0},y.isNaN=function(){return!this.s},y.isNegative=function(){return this.s<0},y.isPositive=function(){return 0<this.s},y.isZero=function(){return!!this.c&&this.c[0]==0},y.minus=function(t,n){var e,c,r,i,a=this,o=a.s;if(n=(t=new m(t,n)).s,!o||!n)return new m(NaN);if(o!=n)return t.s=-n,a.plus(t);var f=a.e/l,s=t.e/l,u=a.c,d=t.c;if(!f||!s){if(!u||!d)return u?(t.s=-n,t):new m(d?a:NaN);if(!u[0]||!d[0])return d[0]?(t.s=-n,t):new m(u[0]?a:X==3?-0:0)}if(f=k(f),s=k(s),u=u.slice(),o=f-s){for((r=(i=o<0)?(o=-o,u):(s=f,d)).reverse(),n=o;n--;r.push(0));r.reverse()}else for(c=(i=(o=u.length)<(n=d.length))?o:n,o=n=0;n<c;n++)if(u[n]!=d[n]){i=u[n]<d[n];break}if(i&&(r=u,u=d,d=r,t.s=-t.s),0<(n=(c=d.length)-(e=u.length)))for(;n--;u[e++]=0);for(n=C-1;o<c;){if(u[--c]<d[c]){for(e=c;e&&!u[--e];u[e]=n);--u[e],u[c]+=C}u[c]-=d[c]}for(;u[0]==0;u.splice(0,1),--s);return u[0]?wt(t,u,s):(t.s=X==3?-1:1,t.c=[t.e=0],t)},y.modulo=y.mod=function(t,n){var e,c,r=this;return t=new m(t,n),!r.c||!t.s||t.c&&!t.c[0]?new m(NaN):!t.c||r.c&&!r.c[0]?new m(r):(Bt==9?(c=t.s,t.s=1,e=p(r,t,0,3),t.s=c,e.s*=c):e=p(r,t,0,Bt),(t=r.minus(e.times(t))).c[0]||Bt!=1||(t.s=r.s),t)},y.multipliedBy=y.times=function(t,n){var e,c,r,i,a,o,f,s,u,d,q,G,I,nt,pt,ht=this,ct=ht.c,dt=(t=new m(t,n)).c;if(!(ct&&dt&&ct[0]&&dt[0]))return!ht.s||!t.s||ct&&!ct[0]&&!dt||dt&&!dt[0]&&!ct?t.c=t.e=t.s=null:(t.s*=ht.s,ct&&dt?(t.c=[0],t.e=0):t.c=t.e=null),t;for(c=k(ht.e/l)+k(t.e/l),t.s*=ht.s,(f=ct.length)<(d=dt.length)&&(I=ct,ct=dt,dt=I,r=f,f=d,d=r),r=f+d,I=[];r--;I.push(0));for(nt=C,pt=z,r=d;0<=--r;){for(e=0,q=dt[r]%pt,G=dt[r]/pt|0,i=r+(a=f);r<i;)e=((s=q*(s=ct[--a]%pt)+(o=G*s+(u=ct[a]/pt|0)*q)%pt*pt+I[i]+e)/nt|0)+(o/pt|0)+G*u,I[i--]=s%nt;I[i]=e}return e?++c:I.splice(0,1),wt(t,I,c)},y.negated=function(){var t=new m(this);return t.s=-t.s||null,t},y.plus=function(t,n){var e,c=this,r=c.s;if(n=(t=new m(t,n)).s,!r||!n)return new m(NaN);if(r!=n)return t.s=-n,c.minus(t);var i=c.e/l,a=t.e/l,o=c.c,f=t.c;if(!i||!a){if(!o||!f)return new m(r/0);if(!o[0]||!f[0])return f[0]?t:new m(o[0]?c:0*r)}if(i=k(i),a=k(a),o=o.slice(),r=i-a){for((e=0<r?(a=i,f):(r=-r,o)).reverse();r--;e.push(0));e.reverse()}for((r=o.length)-(n=f.length)<0&&(e=f,f=o,o=e,n=r),r=0;n;)r=(o[--n]=o[n]+f[n]+r)/C|0,o[n]=C===o[n]?0:o[n]%C;return r&&(o=[r].concat(o),++a),wt(t,o,a)},y.precision=y.sd=function(t,n){var e,c,r;if(t!=null&&t!==!!t)return x(t,1,$),n==null?n=X:x(n,0,8),gt(new m(this),t,n);if(!(e=this.c))return null;if(c=(r=e.length-1)*l+1,r=e[r]){for(;r%10==0;r/=10,c--);for(r=e[0];10<=r;r/=10,c++);}return t&&this.e+1>c&&(c=this.e+1),c},y.shiftedBy=function(t){return x(t,-g,g),this.times("1e"+t)},y.squareRoot=y.sqrt=function(){var t,n,e,c,r,i=this,a=i.c,o=i.s,f=i.e,s=et+4,u=new m("0.5");if(o!==1||!a||!a[0])return new m(!o||o<0&&(!a||a[0])?NaN:a?i:1/0);if((e=(o=Math.sqrt(+vt(i)))==0||o==1/0?(((n=L(a)).length+f)%2==0&&(n+="0"),o=Math.sqrt(+n),f=k((f+1)/2)-(f<0||f%2),new m(n=o==1/0?"1e"+f:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+f)):new m(o+"")).c[0]){for((o=(f=e.e)+s)<3&&(o=0);;)if(r=e,e=u.times(r.plus(p(i,r,s,1))),L(r.c).slice(0,o)===(n=L(e.c)).slice(0,o)){if(e.e<f&&--o,(n=n.slice(o-3,o+1))!="9999"&&(c||n!="4999")){+n&&(+n.slice(1)||n.charAt(0)!="5")||(gt(e,e.e+et+2,1),t=!e.times(e).eq(i));break}if(!c&&(gt(r,r.e+et+2,0),r.times(r).eq(i))){e=r;break}s+=4,o+=4,c=1}}return gt(e,e.e+et+1,X,t)},y.toExponential=function(t,n){return t!=null&&(x(t,0,$),t++),kt(this,t,n,1)},y.toFixed=function(t,n){return t!=null&&(x(t,0,$),t=t+this.e+1),kt(this,t,n)},y.toFormat=function(t,n,e){var c;if(e==null)t!=null&&n&&typeof n=="object"?(e=n,n=null):t&&typeof t=="object"?(e=t,t=n=null):e=Mt;else if(typeof e!="object")throw Error(w+"Argument not an object: "+e);if(c=this.toFixed(t,n),this.c){var r,i=c.split("."),a=+e.groupSize,o=+e.secondaryGroupSize,f=e.groupSeparator||"",s=i[0],u=i[1],d=this.s<0,q=d?s.slice(1):s,G=q.length;if(o&&(r=a,a=o,G-=o=r),0<a&&0<G){for(r=G%a||a,s=q.substr(0,r);r<G;r+=a)s+=f+q.substr(r,a);0<o&&(s+=f+q.slice(r)),d&&(s="-"+s)}c=u?s+(e.decimalSeparator||"")+((o=+e.fractionGroupSize)?u.replace(new RegExp("\\d{"+o+"}\\B","g"),"$&"+(e.fractionGroupSeparator||"")):u):s}return(e.prefix||"")+c+(e.suffix||"")},y.toFraction=function(t){var n,e,c,r,i,a,o,f,s,u,d,q,G=this,I=G.c;if(t!=null&&(!(o=new m(t)).isInteger()&&(o.c||o.s!==1)||o.lt(tt)))throw Error(w+"Argument "+(o.isInteger()?"out of range: ":"not an integer: ")+vt(o));if(!I)return new m(G);for(n=new m(tt),s=e=new m(tt),c=f=new m(tt),q=L(I),i=n.e=q.length-G.e-1,n.c[0]=U[(a=i%l)<0?l+a:a],t=!t||0<o.comparedTo(n)?0<i?n:s:o,a=st,st=1/0,o=new m(q),f.c[0]=0;u=p(o,n,0,1),(r=e.plus(u.times(c))).comparedTo(t)!=1;)e=c,c=r,s=f.plus(u.times(r=s)),f=r,n=o.minus(u.times(r=n)),o=r;return r=p(t.minus(e),c,0,1),f=f.plus(r.times(s)),e=e.plus(r.times(c)),f.s=s.s=G.s,d=p(s,c,i*=2,X).minus(G).abs().comparedTo(p(f,e,i,X).minus(G).abs())<1?[s,c]:[f,e],st=a,d},y.toNumber=function(){return+vt(this)},y.toPrecision=function(t,n){return t!=null&&x(t,1,$),kt(this,t,n,2)},y.toString=function(t){var n,e=this,c=e.s,r=e.e;return r===null?c?(n="Infinity",c<0&&(n="-"+n)):n="NaN":(n=t==null?r<=lt||ot<=r?B(L(e.c),r):M(L(e.c),r,"0"):t===10?M(L((e=gt(new m(e),et+r+1,X)).c),e.e,"0"):(x(t,2,Ot.length,"Base"),_(M(L(e.c),r,"0"),10,t,c,!0)),c<0&&e.c[0]&&(n="-"+n)),n},y.valueOf=y.toJSON=function(){return vt(this)},y._isBigNumber=!0,b&&(y[Symbol.toStringTag]="BigNumber",y[Symbol.for("nodejs.util.inspect.custom")]=y.valueOf),O!=null&&m.set(O),m}()).default=D.BigNumber=D,H!==void 0&&H.exports?H.exports=D:(N=N||(typeof self<"u"&&self?self:window)).BigNumber=D})(this)},{}],2:[function(E,H,at){H.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(N){var D=N%10;return~~(N%100/10)==1?"th":D==1?"st":D==2?"nd":D==3?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(E,H,at){function N(j,B){return function(M){if(Array.isArray(M))return M}(j)||function(M,h){if(Symbol.iterator in Object(M)||Object.prototype.toString.call(M)==="[object Arguments]"){var O=[],p=!0,_=!1,S=void 0;try{for(var F,A=M[Symbol.iterator]();!(p=(F=A.next()).done)&&(O.push(F.value),!h||O.length!==h);p=!0);}catch(R){_=!0,S=R}finally{try{p||A.return==null||A.return()}finally{if(_)throw S}}return O}}(j,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var D=E("./globalState"),W=E("./validating"),b=E("./parsing"),P=E("bignumber.js"),v={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},w={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},V=D.currentBytes(),C=V.binarySuffixes,l=V.decimalSuffixes,g={general:{scale:1024,suffixes:l,marker:"bd"},binary:{scale:1024,suffixes:C,marker:"b"},decimal:{scale:1e3,suffixes:l,marker:"d"}};function U(j){var B=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},M=2<arguments.length?arguments[2]:void 0;if(typeof B=="string"&&(B=b.parseFormat(B)),!W.validateFormat(B))return"ERROR: invalid format";var h=B.prefix||"",O=B.postfix||"",p=function(_,S,F){switch(S.output){case"currency":return S=x(S,D.currentCurrencyDefaultFormat()),function(A,R,Z){var K=Z.currentCurrency(),Q=Object.assign({},R),J=Object.assign({},w,Q),Y=void 0,y="",tt=!!J.totalLength||!!J.forceAverage||J.average,et=Q.currencyPosition||K.position,X=Q.currencySymbol||K.symbol,lt=J.spaceSeparatedCurrency!==void 0?J.spaceSeparatedCurrency:J.spaceSeparated;Q.lowPrecision===void 0&&(Q.lowPrecision=!1),lt&&(y=" "),et==="infix"&&(Y=y+X+y);var ot=T({instance:A,providedFormat:Q,state:Z,decimalSeparator:Y});return et==="prefix"&&(ot=A._value<0&&J.negative==="sign"?"-".concat(y).concat(X).concat(ot.slice(1)):0<A._value&&J.forceSign?"+".concat(y).concat(X).concat(ot.slice(1)):X+y+ot),et&&et!=="postfix"||(y=!J.spaceSeparatedAbbreviation&&tt?"":y,ot=ot+y+X),ot}(_,S,D);case"percent":return S=x(S,D.currentPercentageDefaultFormat()),function(A,R,Z,K){var Q=R.prefixSymbol,J=T({instance:K(100*A._value),providedFormat:R,state:Z}),Y=Object.assign({},w,R);return Q?"%".concat(Y.spaceSeparated?" ":"").concat(J):"".concat(J).concat(Y.spaceSeparated?" ":"","%")}(_,S,D,F);case"byte":return S=x(S,D.currentByteDefaultFormat()),function(A,R,Z,K){var Q=R.base||"binary",J=Object.assign({},w,R),Y=Z.currentBytes(),y=Y.binarySuffixes,tt=Y.decimalSuffixes,et={general:{scale:1024,suffixes:tt||l,marker:"bd"},binary:{scale:1024,suffixes:y||C,marker:"b"},decimal:{scale:1e3,suffixes:tt||l,marker:"d"}}[Q],X=z(A._value,et.suffixes,et.scale),lt=X.value,ot=X.suffix,ut=T({instance:K(lt),providedFormat:R,state:Z,defaults:Z.currentByteDefaultFormat()});return"".concat(ut).concat(J.spaceSeparated?" ":"").concat(ot)}(_,S,D,F);case"time":return S=x(S,D.currentTimeDefaultFormat()),function(A){var R=Math.floor(A._value/60/60),Z=Math.floor((A._value-60*R*60)/60),K=Math.round(A._value-60*R*60-60*Z);return"".concat(R,":").concat(Z<10?"0":"").concat(Z,":").concat(K<10?"0":"").concat(K)}(_);case"ordinal":return S=x(S,D.currentOrdinalDefaultFormat()),function(A,R,Z){var K=Z.currentOrdinal(),Q=Object.assign({},w,R),J=T({instance:A,providedFormat:R,state:Z}),Y=K(A._value);return"".concat(J).concat(Q.spaceSeparated?" ":"").concat(Y)}(_,S,D);case"number":default:return T({instance:_,providedFormat:S,numbro:F})}}(j,B,M);return p=(p=h+p)+O}function z(j,B,M){var h=B[0],O=Math.abs(j);if(M<=O){for(var p=1;p<B.length;++p){var _=Math.pow(M,p),S=Math.pow(M,p+1);if(_<=O&&O<S){h=B[p],j/=_;break}}h===B[0]&&(j/=Math.pow(M,B.length-1),h=B[B.length-1])}return{value:j,suffix:h}}function $(j){for(var B="",M=0;M<j;M++)B+="0";return B}function k(j,B,M){var h=2<arguments.length&&M!==void 0?M:Math.round;return j.toString().indexOf("e")!==-1?function(O,p){var _=O.toString(),S=N(_.split("e"),2),F=S[0],A=S[1],R=N(F.split("."),2),Z=R[0],K=R[1],Q=K===void 0?"":K;if(0<+A)_=Z+Q+$(A-Q.length);else{var J=".";J=+Z<0?"-0".concat(J):"0".concat(J);var Y=($(-A-1)+Math.abs(Z)+Q).substr(0,p);Y.length<p&&(Y+=$(p-Y.length)),_=J+Y}return 0<+A&&0<p&&(_+=".".concat($(p))),_}(j,B):new P(h(+"".concat(j,"e+").concat(B))/Math.pow(10,B)).toFixed(B)}function L(j,B,M,h,O){var p=h.currentDelimiters(),_=p.thousands;O=O||p.decimal;var S=p.thousandsSize||3,F=j.toString(),A=F.split(".")[0],R=F.split(".")[1],Z=B<0&&A.indexOf("-")===0;return M&&(Z&&(A=A.slice(1)),function(K,Q){for(var J=[],Y=0,y=K;0<y;y--)Y===Q&&(J.unshift(y),Y=0),Y++;return J}(A.length,S).forEach(function(K,Q){A=A.slice(0,K+Q)+_+A.slice(K+Q)}),Z&&(A="-".concat(A))),F=R?A+O+R:A}function T(j){var B=j.instance,M=j.providedFormat,h=j.state,O=h===void 0?D:h,p=j.decimalSeparator,_=j.defaults,S=_===void 0?O.currentDefaults():_,F=B._value;if(F===0&&O.hasZeroFormat())return O.getZeroFormat();if(!isFinite(F))return F.toString();var A,R,Z,K,Q,J,Y,y,tt=Object.assign({},w,S,M),et=tt.totalLength,X=et?0:tt.characteristic,lt=tt.optionalCharacteristic,ot=tt.forceAverage,ut=tt.lowPrecision,st=!!et||!!ot||tt.average,bt=et?-1:st&&M.mantissa===void 0?0:tt.mantissa,Bt=!et&&(M.optionalMantissa===void 0?bt===-1:tt.optionalMantissa),St=tt.trimMantissa,Mt=tt.thousandSeparated,Ot=tt.spaceSeparated,m=tt.negative,Lt=tt.forceSign,_t=tt.exponential,At=tt.roundingFunction,Nt="";if(st){var kt=function(n){var e=n.value,c=n.forceAverage,r=n.lowPrecision,i=r===void 0||r,a=n.abbreviations,o=n.spaceSeparated,f=o!==void 0&&o,s=n.totalLength,u=s===void 0?0:s,d=n.roundingFunction,q=d===void 0?Math.round:d,G="",I=Math.abs(e),nt=-1;if(c&&a[c]&&v[c]?(G=a[c],e/=v[c]):I>=v.trillion||i&&q(I/v.trillion)===1?(G=a.trillion,e/=v.trillion):I<v.trillion&&I>=v.billion||i&&q(I/v.billion)===1?(G=a.billion,e/=v.billion):I<v.billion&&I>=v.million||i&&q(I/v.million)===1?(G=a.million,e/=v.million):(I<v.million&&I>=v.thousand||i&&q(I/v.thousand)===1)&&(G=a.thousand,e/=v.thousand),G=G&&(f?" ":"")+G,u){var pt=e<0,ht=e.toString().split(".")[0],ct=pt?ht.length-1:ht.length;nt=Math.max(u-ct,0)}return{value:e,abbreviation:G,mantissaPrecision:nt}}({value:F,forceAverage:ot,lowPrecision:ut,abbreviations:O.currentAbbreviations(),spaceSeparated:Ot,roundingFunction:At,totalLength:et});F=kt.value,Nt+=kt.abbreviation,et&&(bt=kt.mantissaPrecision)}if(_t){var Dt=(R=(A={value:F,characteristicPrecision:X}).value,Z=A.characteristicPrecision,K=Z===void 0?0:Z,Q=N(R.toExponential().split("e"),2),J=Q[0],Y=Q[1],y=+J,K&&1<K&&(y*=Math.pow(10,K-1),Y=0<=(Y-=K-1)?"+".concat(Y):Y),{value:y,abbreviation:"e".concat(Y)});F=Dt.value,Nt=Dt.abbreviation+Nt}var wt,gt,vt,t=function(n,e,c,r,i,a){if(r===-1)return n;var o=k(e,r,a),f=N(o.toString().split("."),2),s=f[0],u=f[1],d=u===void 0?"":u;if(d.match(/^0+$/)&&(c||i))return s;var q=d.match(/0+$/);return i&&q?"".concat(s,".").concat(d.toString().slice(0,q.index)):o.toString()}(F.toString(),F,Bt,bt,St,At);return t=L(t=function(n,e,c,r){var i=n,a=N(i.toString().split("."),2),o=a[0],f=a[1];if(o.match(/^-?0$/)&&c)return f?"".concat(o.replace("0",""),".").concat(f):o.replace("0","");var s=e<0&&o.indexOf("-")===0;if(s&&(o=o.slice(1),i=i.slice(1)),o.length<r)for(var u=r-o.length,d=0;d<u;d++)i="0".concat(i);return s&&(i="-".concat(i)),i.toString()}(t,F,lt,X),F,Mt,O,p),(st||_t)&&(t=t+Nt),(Lt||F<0)&&(wt=t,vt=m,t=(gt=F)===0?wt:+wt==0?wt.replace("-",""):0<gt?"+".concat(wt):vt==="sign"?wt:"(".concat(wt.replace("-",""),")")),t}function x(j,B){if(!j)return B;var M=Object.keys(j);return M.length===1&&M[0]==="output"?B:j}H.exports=function(j){return{format:function(){for(var B=arguments.length,M=new Array(B),h=0;h<B;h++)M[h]=arguments[h];return U.apply(void 0,M.concat([j]))},getByteUnit:function(){for(var B=arguments.length,M=new Array(B),h=0;h<B;h++)M[h]=arguments[h];return function(O){var p=g.general;return z(O._value,p.suffixes,p.scale).suffix}.apply(void 0,M.concat([j]))},getBinaryByteUnit:function(){for(var B=arguments.length,M=new Array(B),h=0;h<B;h++)M[h]=arguments[h];return function(O){var p=g.binary;return z(O._value,p.suffixes,p.scale).suffix}.apply(void 0,M.concat([j]))},getDecimalByteUnit:function(){for(var B=arguments.length,M=new Array(B),h=0;h<B;h++)M[h]=arguments[h];return function(O){var p=g.decimal;return z(O._value,p.suffixes,p.scale).suffix}.apply(void 0,M.concat([j]))},formatOrDefault:x}}},{"./globalState":4,"./parsing":8,"./validating":10,"bignumber.js":1}],4:[function(E,H,at){var N=E("./en-US"),D=E("./validating"),W=E("./parsing"),b={},P=void 0,v={},w=null,V={};function C(g){P=g}function l(){return v[P]}b.languages=function(){return Object.assign({},v)},b.currentLanguage=function(){return P},b.currentBytes=function(){return l().bytes||{}},b.currentCurrency=function(){return l().currency},b.currentAbbreviations=function(){return l().abbreviations},b.currentDelimiters=function(){return l().delimiters},b.currentOrdinal=function(){return l().ordinal},b.currentDefaults=function(){return Object.assign({},l().defaults,V)},b.currentOrdinalDefaultFormat=function(){return Object.assign({},b.currentDefaults(),l().ordinalFormat)},b.currentByteDefaultFormat=function(){return Object.assign({},b.currentDefaults(),l().byteFormat)},b.currentPercentageDefaultFormat=function(){return Object.assign({},b.currentDefaults(),l().percentageFormat)},b.currentCurrencyDefaultFormat=function(){return Object.assign({},b.currentDefaults(),l().currencyFormat)},b.currentTimeDefaultFormat=function(){return Object.assign({},b.currentDefaults(),l().timeFormat)},b.setDefaults=function(g){g=W.parseFormat(g),D.validateFormat(g)&&(V=g)},b.getZeroFormat=function(){return w},b.setZeroFormat=function(g){return w=typeof g=="string"?g:null},b.hasZeroFormat=function(){return w!==null},b.languageData=function(g){if(g){if(v[g])return v[g];throw new Error('Unknown tag "'.concat(g,'"'))}return l()},b.registerLanguage=function(g){var U=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(!D.validateLanguage(g))throw new Error("Invalid language data");v[g.languageTag]=g,U&&C(g.languageTag)},b.setLanguage=function(g){var U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:N.languageTag;if(!v[g]){var z=g.split("-")[0],$=Object.keys(v).find(function(k){return k.split("-")[0]===z});return v[$]?void C($):void C(U)}C(g)},b.registerLanguage(N),P=N.languageTag,H.exports=b},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(E,H,at){H.exports=function(N){return{loadLanguagesInNode:function(D){return W=N,void D.forEach(function(b){var P=void 0;try{P=E("../languages/".concat(b))}catch{console.error('Unable to load "'.concat(b,'". No matching language file found.'))}P&&W.registerLanguage(P)});var W}}}},{}],6:[function(E,H,at){var N=E("bignumber.js");function D(W,b,P){var v=new N(W._value),w=b;return P.isNumbro(b)&&(w=b._value),w=new N(w),W._value=v.minus(w).toNumber(),W}H.exports=function(W){return{add:function(b,P){return w=P,V=W,C=new N((v=b)._value),l=w,V.isNumbro(w)&&(l=w._value),l=new N(l),v._value=C.plus(l).toNumber(),v;var v,w,V,C,l},subtract:function(b,P){return D(b,P,W)},multiply:function(b,P){return w=P,V=W,C=new N((v=b)._value),l=w,V.isNumbro(w)&&(l=w._value),l=new N(l),v._value=C.times(l).toNumber(),v;var v,w,V,C,l},divide:function(b,P){return w=P,V=W,C=new N((v=b)._value),l=w,V.isNumbro(w)&&(l=w._value),l=new N(l),v._value=C.dividedBy(l).toNumber(),v;var v,w,V,C,l},set:function(b,P){return v=b,V=w=P,W.isNumbro(w)&&(V=w._value),v._value=V,v;var v,w,V},difference:function(b,P){return v=P,D(V=(w=W)(b._value),v,w),Math.abs(V._value);var v,w,V},BigNumber:N}}},{"bignumber.js":1}],7:[function(E,H,at){function N(U,z){for(var $=0;$<z.length;$++){var k=z[$];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(U,k.key,k)}}var D=E("./globalState"),W=E("./validating"),b=E("./loading")(g),P=E("./unformatting"),v=E("./formatting")(g),w=E("./manipulating")(g),V=E("./parsing"),C=function(){function U(k){(function(L,T){if(!(L instanceof T))throw new TypeError("Cannot call a class as a function")})(this,U),this._value=k}var z,$;return z=U,($=[{key:"clone",value:function(){return g(this._value)}},{key:"format",value:function(k){var L=0<arguments.length&&k!==void 0?k:{};return v.format(this,L)}},{key:"formatCurrency",value:function(k){return typeof k=="string"&&(k=V.parseFormat(k)),(k=v.formatOrDefault(k,D.currentCurrencyDefaultFormat())).output="currency",v.format(this,k)}},{key:"formatTime",value:function(k){var L=0<arguments.length&&k!==void 0?k:{};return L.output="time",v.format(this,L)}},{key:"binaryByteUnits",value:function(){return v.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return v.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return v.getByteUnit(this)}},{key:"difference",value:function(k){return w.difference(this,k)}},{key:"add",value:function(k){return w.add(this,k)}},{key:"subtract",value:function(k){return w.subtract(this,k)}},{key:"multiply",value:function(k){return w.multiply(this,k)}},{key:"divide",value:function(k){return w.divide(this,k)}},{key:"set",value:function(k){return w.set(this,l(k))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&N(z.prototype,$),U}();function l(U){var z=U;return g.isNumbro(U)?z=U._value:typeof U=="string"?z=g.unformat(U):isNaN(U)&&(z=NaN),z}function g(U){return new C(l(U))}g.version="2.3.6",g.isNumbro=function(U){return U instanceof C},g.language=D.currentLanguage,g.registerLanguage=D.registerLanguage,g.setLanguage=D.setLanguage,g.languages=D.languages,g.languageData=D.languageData,g.zeroFormat=D.setZeroFormat,g.defaultFormat=D.currentDefaults,g.setDefaults=D.setDefaults,g.defaultCurrencyFormat=D.currentCurrencyDefaultFormat,g.validate=W.validate,g.loadLanguagesInNode=b.loadLanguagesInNode,g.unformat=P.unformat,g.BigNumber=w.BigNumber,H.exports=g},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(E,H,at){H.exports={parseFormat:function(N){var D,W,b,P,v,w,V,C,l,g,U,z,$,k,L,T,x,j,B,M,h,O,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return typeof N!="string"?N:(W=p,N=(b=(D=N).match(/^{([^}]*)}/))?(W.prefix=b[1],D.slice(b[0].length)):D,v=p,function(_,S){if(_.indexOf("$")===-1){if(_.indexOf("%")===-1)return _.indexOf("bd")!==-1?(S.output="byte",S.base="general"):_.indexOf("b")!==-1?(S.output="byte",S.base="binary"):_.indexOf("d")!==-1?(S.output="byte",S.base="decimal"):_.indexOf(":")===-1?_.indexOf("o")!==-1&&(S.output="ordinal"):S.output="time";S.output="percent"}else S.output="currency"}(N=(w=(P=N).match(/{([^}]*)}$/))?(v.postfix=w[1],P.slice(0,-w[0].length)):P,p),V=p,(C=N.match(/[1-9]+[0-9]*/))&&(V.totalLength=+C[0]),l=p,(g=N.split(".")[0].match(/0+/))&&(l.characteristic=g[0].length),function(_,S){if(_.indexOf(".")!==-1){var F=_.split(".")[0];S.optionalCharacteristic=F.indexOf("0")===-1}}(N,p),U=p,N.indexOf("a")!==-1&&(U.average=!0),$=p,(z=N).indexOf("K")!==-1?$.forceAverage="thousand":z.indexOf("M")!==-1?$.forceAverage="million":z.indexOf("B")!==-1?$.forceAverage="billion":z.indexOf("T")!==-1&&($.forceAverage="trillion"),function(_,S){var F=_.split(".")[1];if(F){var A=F.match(/0+/);A&&(S.mantissa=A[0].length)}}(N,p),L=p,(k=N).match(/\[\.]/)?L.optionalMantissa=!0:k.match(/\./)&&(L.optionalMantissa=!1),T=p,(x=N.split(".")[1])&&(T.trimMantissa=x.indexOf("[")!==-1),j=p,N.indexOf(",")!==-1&&(j.thousandSeparated=!0),B=p,N.indexOf(" ")!==-1&&(B.spaceSeparated=!0,B.spaceSeparatedCurrency=!0,(B.average||B.forceAverage)&&(B.spaceSeparatedAbbreviation=!0)),h=p,(M=N).match(/^\+?\([^)]*\)$/)&&(h.negative="parenthesis"),M.match(/^\+?-/)&&(h.negative="sign"),O=p,N.match(/^\+/)&&(O.forceSign=!0),p)}}},{}],9:[function(E,H,at){var N=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function D(b){return b.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(b,P,v,w,V,C,l){var g=2<arguments.length&&v!==void 0?v:"",U=3<arguments.length?w:void 0,z=4<arguments.length?V:void 0,$=5<arguments.length?C:void 0,k=6<arguments.length?l:void 0;if(b!=="")return b===z?0:function L(T,x,j,B,M,h,O){var p=2<arguments.length&&j!==void 0?j:"",_=3<arguments.length?B:void 0,S=4<arguments.length?M:void 0,F=5<arguments.length?h:void 0,A=6<arguments.length?O:void 0;if(!isNaN(+T))return+T;var R="",Z=T.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(Z!==T)return-1*L(Z,x,p,_,S,F,A);for(var K=0;K<N.length;K++){var Q=N[K];if((R=T.replace(RegExp("([0-9 ])(".concat(Q.key,")$")),"$1"))!==T)return L(R,x,p,_,S,F,A)*Q.factor}if((R=T.replace("%",""))!==T)return L(R,x,p,_,S,F,A)/100;var J=parseFloat(T);if(!isNaN(J)){var Y=_(J);if(Y&&Y!=="."&&(R=T.replace(new RegExp("".concat(D(Y),"$")),""))!==T)return L(R,x,p,_,S,F,A);var y={};Object.keys(F).forEach(function(st){y[F[st]]=st});for(var tt=Object.keys(y).sort().reverse(),et=tt.length,X=0;X<et;X++){var lt=tt[X],ot=y[lt];if((R=T.replace(lt,""))!==T){var ut=void 0;switch(ot){case"thousand":ut=Math.pow(10,3);break;case"million":ut=Math.pow(10,6);break;case"billion":ut=Math.pow(10,9);break;case"trillion":ut=Math.pow(10,12)}return L(R,x,p,_,S,F,A)*ut}}}}(function(L,T,x){var j=2<arguments.length&&x!==void 0?x:"",B=L.replace(j,"");return B=(B=B.replace(new RegExp("([0-9])".concat(D(T.thousands),"([0-9])"),"g"),"$1$2")).replace(T.decimal,".")}(b,P,g),P,g,U,z,$,k)}H.exports={unformat:function(b,P){var v,w,V,C=E("./globalState"),l=C.currentDelimiters(),g=C.currentCurrency().symbol,U=C.currentOrdinal(),z=C.getZeroFormat(),$=C.currentAbbreviations(),k=void 0;if(typeof b=="string")k=function(L,T){if(L.indexOf(":")&&T.thousands!==":"){var x=L.split(":");if(x.length===3){var j=+x[0],B=+x[1],M=+x[2];return!isNaN(j)&&!isNaN(B)&&!isNaN(M)}}}(b,l)?(v=b.split(":"),w=+v[0],V=+v[1],+v[2]+60*V+3600*w):W(b,l,g,U,z,$,P);else{if(typeof b!="number")return;k=b}if(k!==void 0)return k}}},{"./globalState":4}],10:[function(E,H,at){function N(l){return function(g){if(Array.isArray(g)){for(var U=0,z=new Array(g.length);U<g.length;U++)z[U]=g[U];return z}}(l)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function D(l){return(D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(l)}var W=E("./unformatting"),b=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,P={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(l,g){return g.output==="byte"},message:"`base` must be provided only when the output is `byte`",mandatory:function(l){return l.output==="byte"}},characteristic:{type:"number",restriction:function(l){return 0<=l},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",lowPrecision:{type:"boolean",restriction:function(l,g){return g.average===!0},message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(l){return 0<=l},message:"value must be positive"},{restriction:function(l,g){return!g.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(l){return 0<=l},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(l,g){return g.output==="percent"},message:"`prefixSymbol` can be provided only when the output is `percent`"}},v={languageTag:{type:"string",mandatory:!0,restriction:function(l){return l.match(b)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function w(l){return W.unformat(l)!==void 0}function V(l,g,U,z){var $=3<arguments.length&&z!==void 0&&z,k=Object.keys(l).map(function(L){if(!g[L])return console.error("".concat(U," Invalid key: ").concat(L)),!1;var T=l[L],x=g[L];if(typeof x=="string"&&(x={type:x}),x.type==="format"){if(!V(T,P,"[Validate ".concat(L,"]"),!0))return!1}else if(D(T)!==x.type)return console.error("".concat(U," ").concat(L,' type mismatched: "').concat(x.type,'" expected, "').concat(D(T),'" provided')),!1;if(x.restrictions&&x.restrictions.length)for(var j=x.restrictions.length,B=0;B<j;B++){var M=x.restrictions[B],h=M.restriction,O=M.message;if(!h(T,l))return console.error("".concat(U," ").concat(L," invalid value: ").concat(O)),!1}return x.restriction&&!x.restriction(T,l)?(console.error("".concat(U," ").concat(L," invalid value: ").concat(x.message)),!1):x.validValues&&x.validValues.indexOf(T)===-1?(console.error("".concat(U," ").concat(L," invalid value: must be among ").concat(JSON.stringify(x.validValues),', "').concat(T,'" provided')),!1):!(x.children&&!V(T,x.children,"[Validate ".concat(L,"]")))});return $||k.push.apply(k,N(Object.keys(g).map(function(L){var T=g[L];if(typeof T=="string"&&(T={type:T}),T.mandatory){var x=T.mandatory;if(typeof x=="function"&&(x=x(l)),x&&l[L]===void 0)return console.error("".concat(U,' Missing mandatory key "').concat(L,'"')),!1}return!0}))),k.reduce(function(L,T){return L&&T},!0)}function C(l){return V(l,P,"[Validate format]")}H.exports={validate:function(l,g){var U=w(l),z=C(g);return U&&z},validateFormat:C,validateInput:w,validateLanguage:function(l){return V(l,v,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)})})(It);var Yt=It.exports;const Pt=Zt(Yt);class Xt extends jt{static entity="pool_tokens";static fields(){return{id:this.attr(null),address:this.string(""),balance:this.number(0),index:this.number(null),name:this.string(""),symbol:this.string(""),decimals:this.attr(null),token_id:this.attr(0),weight:this.number(0),pool_id:this.string(""),pool_token_id:this.number(0),FA2:this.boolean(!1),userBalance:this.string("0"),icon:this.string(null)}}static piniaOptions={persist:Ut.localStorage};normalizedBalance(){return Et(this.userBalance).dividedBy(10**this.decimals).toString()}formatBalance(){return Pt(this.normalizedBalance()).format({average:!0,totalLength:6})}static formatPrice(rt){return Pt(rt).formatCurrency({mantissa:2})}isStable(){return[{address:"KT1JA3UQ6R4C84mH3FqS3G5mKFeEdLumrDc3".toUpperCase(),id:7},{address:"KT1JA3UQ6R4C84mH3FqS3G5mKFeEdLumrDc3".toUpperCase(),id:5}].some(E=>JSON.stringify({address:this.address.toUpperCase(),id:this.pool_token_id})===JSON.stringify(E))}}class $t extends jt{static entity="pools";static fields(){return{id:this.attr(null),swaps_count:this.number(0),address:this.string(""),factory:this.string(""),poolId:this.number(null),owner:this.string(""),create_time:this.attr(null),name:this.string(""),symbol:this.string(""),pool_type:this.string(""),pool_shares:this.string("0"),swap_fee:this.number(0),tokens_list:this.string(""),total_swap_volume:this.number(0),total_swap_fee:this.number(0),total_liquidity:this.number(0),pool_tokens:this.hasMany(Xt,"pool_id"),userLPBalance:this.string(null)}}static piniaOptions={persist:Ut.localStorage};async getPoolId(rt){const at=(await(await rt.contract.at(this.address)).storage()).poolId?.Some[1];console.log(at),Gt($t).save({id:this.id,poolId:at.toNumber()})}async getUserBalances(rt){const E=this.pool_tokens.map(at=>({address:at.address,token_id:at.pool_token_id,id:at.id}));console.log(E);const H=await Ht(E,rt);return H.success?H.balances:null}async getUserLPBalance(rt){const E=await Wt(this.address,rt);return E.success?E.balance.toString():null}async getPoolShares(){const rt=await Jt(this.address);return rt.success?rt.shares.toString():null}normalizedLPBalance(){return Et(this.userLPBalance||0).dividedBy(10**18).toString()}formatLPBalance(){return Pt(this.normalizedLPBalance()).format({average:!0,totalLength:6})}totalLiquidity(){return this.pool_tokens.reduce((rt,E)=>rt+E.balance*Vt.mockPriceData[E.symbol],0)}}export{$t as P,Xt as a,en as c,Ht as g,Pt as n};
